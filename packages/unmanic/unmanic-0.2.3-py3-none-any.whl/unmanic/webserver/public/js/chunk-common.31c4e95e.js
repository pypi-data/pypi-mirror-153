(self["webpackChunkunmanic_frontend"]=self["webpackChunkunmanic_frontend"]||[]).push([[64],{1577:(e,t,i)=>{"use strict";i.d(t,{iw:()=>d,nx:()=>r});var l=i(4548),o=i.n(l),n=i(3478),s=i(9865),a=i.n(s);const r=function(e){return o().process({text:e,removeMisalignedTags:!1,addInLineBreaks:!0}).html},d=function(e){let t=new n._("full",{html:!0,xhtmlOut:!1,breaks:!1,langPrefix:"language-",typographer:!1,quotes:"“”‘’",highlight:function(){return""}});return t.use(a()({icon:"svg-inline"})),t.render(e)}},586:(e,t,i)=>{"use strict";i.d(t,{A:()=>n});var l=i(6827),o=i(6888);const n=function(e){let t=null,i=!0,n=null,s=null;const a=function(){function d(){if(("undefined"===typeof o.ZP.ws||null===o.ZP.ws)&&null===t){console.debug("Display websocket disconnect warning"),t=l.Z.create({timeout:0,spinner:!0,color:"warning",position:"top",message:e("notifications.backendConnectionWarning"),icon:"report_problem"});let i=setInterval((()=>{"undefined"!==typeof o.ZP.ws&&null!==o.ZP.ws&&o.ZP.ws.readyState===WebSocket.OPEN&&(console.log("Websocket has reconnected. Clearing warning."),t(),t=null,clearInterval(i))}),500)}}function c(){if("undefined"===typeof o.ZP.ws||null===o.ZP.ws){let e,t=window.location;e="https:"===t.protocol?"wss:":"ws:",e+="//"+t.host+"/unmanic/websocket",o.ZP.ws=new WebSocket(e)}}function u(){o.ZP.ws=null,o.ZP.websocketEventListeners={},n=setTimeout((()=>{console.debug("Attempting reconnect to Unmanic server..."),a()}),4e3)}function p(e){"undefined"!==typeof o.ZP.frontendMessage&&("function"===typeof o.ZP.frontendMessage[e]&&(o.ZP.frontendMessage[e](),"undefined"!==typeof o.ZP.ws&&null!==o.ZP.ws&&o.ZP.ws.send(JSON.stringify({command:"dismiss_message",params:{message_id:e}}))),"undefined"!==typeof o.ZP.frontendMessage[e]&&delete o.ZP.frontendMessage[e])}function g(e,t,i,n,s,a){let r="notifications.serverMessages."+n,d=e(r);if(d===r&&(d=e("notifications.serverMessages.defaults."+i)),s)d=d+"<br>"+s;else{let t="notifications.serverMessages."+n+"Message",i=e(t);i!==t&&(s=e("notifications.serverMessages."+n+"Message"),d=d+"<br>"+s)}d='<span style="display:block;min-height:50px;white-space:pre;">'+d+"</span>";t in o.ZP.frontendMessage?o.ZP.frontendMessage[t]({message:d,html:!0}):o.ZP.frontendMessage[t]=l.Z.create({group:!1,type:"ongoing",position:"bottom-left",message:d,html:!0})}function h(e,t,i,n,s,a){if(!(t in o.ZP.frontendMessage)){let r="notifications.serverMessages."+n,d=e(r);d===r&&(d=e("notifications.serverMessages.defaults."+i)),s&&(d=d+" - "+s);let c="info",u="announcement";"error"===i?(c="negative",u="error"):"warning"===i?(c="warning",u="warning"):"success"===i&&(c="positive",u="thumb_up"),o.ZP.frontendMessage[t]=l.Z.create({timeout:a,color:c,position:"bottom-right",message:d,icon:u,actions:[{icon:"close",color:"white",handler:()=>{p(t)}}]})}}function m(t){"undefined"===typeof o.ZP.frontendMessage&&(o.ZP.frontendMessage={});let i=[];for(let l=0;l<t.length;l++){let o=t[l].id,n=t[l].type,s=t[l].code,a=t[l].message,r=t[l].timeout;"status"===n?g(e,o,n,s,a,r):h(e,o,n,s,a,r),i[i.length]=o}for(let e in o.ZP.frontendMessage)i.includes(e)||p(e)}return"undefined"!==typeof o.ZP.ws&&null!==o.ZP.ws||(console.debug("Starting connection to websocket server"),c(),r("open","start_frontend_messages",(function(e){clearTimeout(n),o.ZP.ws.send(JSON.stringify({command:"start_frontend_messages",params:{}}))})),r("message","handle_frontend_messages",(function(e){if("string"===typeof e.data){let t=JSON.parse(e.data);if(t.success)switch(null===s?s=t.server_id:t.server_id!==s&&(console.debug("Unmanic server has restarted. Reloading page..."),location.reload()),t.type){case"frontend_message":m(t.data);break}else console.error("WebSocket Error: Received contained errors - ",e.data)}else console.error("WebSocket Error: Received data was not a string - ",e.data)})),r("error","websocket_error",(function(e){console.error("WebSocket Error: ",e),setTimeout((()=>{d()}),5e3)})),r("close","websocket_close",(function(e){i&&u()}))),o.ZP.ws},r=function(e,t,i){"undefined"!==typeof o.ZP.ws&&null!==o.ZP.ws&&("undefined"===typeof o.ZP.websocketEventListeners&&(o.ZP.websocketEventListeners={}),t in o.ZP.websocketEventListeners||(o.ZP.ws.addEventListener(e,i),o.ZP.websocketEventListeners[t]=!0))},d=function(){"undefined"!==typeof o.ZP.ws&&null!==o.ZP.ws&&(console.debug("Closing connection to websocket server"),i=!1,o.ZP.ws.close(),o.ZP.ws=null,o.ZP.websocketEventListeners={})};return{serverId:s,init:function(){return a()},close:function(){d()},addEventListener:function(e,t,i){r(e,t,i)}}}},9370:(e,t,i)=>{"use strict";i.d(t,{Z:()=>C});var l=i(9835),o=i(6970);const n={class:"row items-center no-wrap"},s={key:0,class:"col"},a={class:"col"},r={class:"text-h6 text-blue-10"},d={key:1,class:"col-auto"},c={class:"q-pa-md"};function u(e,t,i,u,p,g){const h=(0,l.up)("q-btn"),m=(0,l.up)("q-tooltip"),f=(0,l.up)("q-card-section"),w=(0,l.up)("q-icon"),_=(0,l.up)("q-input"),v=(0,l.up)("q-separator"),b=(0,l.up)("q-item-section"),y=(0,l.up)("q-item-label"),k=(0,l.up)("q-item"),q=(0,l.up)("q-list"),P=(0,l.up)("q-card"),Z=(0,l.up)("q-dialog"),x=(0,l.Q2)("close-popup"),W=(0,l.Q2)("ripple"),I=(0,l.Q2)("touch-swipe");return(0,l.wg)(),(0,l.j4)(Z,{ref:"directoryBrowserDialogRef",maximized:e.$q.platform.is.mobile,"transition-show":"jump-left","transition-hide":"jump-right","full-height":"",onHide:g.onDialogHide},{default:(0,l.w5)((()=>[(0,l.wy)(((0,l.wg)(),(0,l.j4)(P,{style:(0,o.j5)([e.$q.platform.is.mobile?"max-width: 100vw;":"max-width: 95vw;",{width:"700px"}])},{default:(0,l.w5)((()=>[(0,l.Wm)(f,{class:"bg-card-head"},{default:(0,l.w5)((()=>[(0,l._)("div",n,[e.$q.platform.is.mobile?((0,l.wg)(),(0,l.iD)("div",s,[(0,l.wy)((0,l.Wm)(h,{color:"grey-7",dense:"",round:"",flat:"",icon:"arrow_back"},null,512),[[x]])])):(0,l.kq)("",!0),(0,l._)("div",a,[(0,l._)("div",r,(0,o.zw)(i.dialogHeader),1)]),e.$q.platform.is.mobile?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("div",d,[(0,l.wy)(((0,l.wg)(),(0,l.j4)(h,{color:"grey-7",dense:"",round:"",flat:"",icon:"close_fullscreen"},{default:(0,l.w5)((()=>[(0,l.Wm)(m,{class:"bg-white text-primary"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,o.zw)(e.$t("tooltips.close")),1)])),_:1})])),_:1})),[[x]])]))])])),_:1}),(0,l.Wm)(f,{class:"q-pt-none"},{default:(0,l.w5)((()=>[(0,l._)("div",c,[(0,l.Wm)(P,{flat:""},{default:(0,l.w5)((()=>[(0,l.Wm)(f,null,{default:(0,l.w5)((()=>[(0,l.Wm)(_,{disable:"",readonly:"",borderless:"",modelValue:this.currentPath,"onUpdate:modelValue":t[0]||(t[0]=e=>this.currentPath=e)},{before:(0,l.w5)((()=>[(0,l.Wm)(w,{name:"folder_open"})])),_:1},8,["modelValue"])])),_:1}),(0,l.Wm)(v),(0,l.Wm)(f,{class:"q-pa-none"},{default:(0,l.w5)((()=>[(0,l.Wm)(q,{bordered:"",padding:""},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.directories,((e,t)=>(0,l.wy)(((0,l.wg)(),(0,l.j4)(k,{key:t,clickable:"",onClick:t=>g.fetchDirectoryListing(e.full_path)},{default:(0,l.w5)((()=>[(0,l.Wm)(b,{avatar:""},{default:(0,l.w5)((()=>[(0,l.Wm)(w,{color:"primary",name:"folder_open"})])),_:1}),(0,l.Wm)(b,null,{default:(0,l.w5)((()=>[(0,l.Wm)(y,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,o.zw)(e.name),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])),[[W]]))),128))])),_:1})])),_:1})])),_:1})])])),_:1})])),_:1},8,["style"])),[[I,g.hide,void 0,{touch:!0,left:!0,right:!0}]])])),_:1},8,["maximized","onHide"])}var p=i(9981),g=i.n(p),h=i(6888),m=i(499);const f={name:"DirectoryBrowserDialog",props:{dialogHeader:{type:String,default:" --- header --- "},initialPath:{type:String,default:" --- initial path --- "},listType:{type:String,default:" --- list type --- "}},emits:["ok","hide","path"],methods:{show(){this.$refs.directoryBrowserDialogRef.show(),this.fetchDirectoryListing(this.initialPath)},hide(){this.$refs.directoryBrowserDialogRef.hide()},onDialogHide(){this.$emit("ok",{selectedPath:this.currentPath}),this.$emit("hide")},fetchDirectoryListing:function(e){this.currentPath=e;let t={current_path:this.currentPath,list_type:this.listType};g()({method:"post",url:(0,h.J4)("v2","filebrowser/list"),data:t}).then((e=>{this.directories=e.data.directories,this.files=e.data.files}))}},watch:{initialPath(e){e.length>0&&(this.currentPath=this.initialPath)}},data:function(){return{maximizedToggle:!0,currentPath:(0,m.iH)(null),directories:(0,m.iH)([]),files:(0,m.iH)([])}}};var w=i(1639),_=i(2074),v=i(4458),b=i(3190),y=i(8879),k=i(6858),q=i(6611),P=i(2857),Z=i(926),x=i(3246),W=i(490),I=i(1233),$=i(3115),S=i(4871),Q=i(2146),R=i(1136),H=i(9984),D=i.n(H);const j=(0,w.Z)(f,[["render",u]]),C=j;D()(f,"components",{QDialog:_.Z,QCard:v.Z,QCardSection:b.Z,QBtn:y.Z,QTooltip:k.Z,QInput:q.Z,QIcon:P.Z,QSeparator:Z.Z,QList:x.Z,QItem:W.Z,QItemSection:I.Z,QItemLabel:$.Z}),D()(f,"directives",{TouchSwipe:S.Z,ClosePopup:Q.Z,Ripple:R.Z})},3754:(e,t,i)=>{"use strict";i.d(t,{Z:()=>_});var l=i(9835),o=i(6970);const n={key:0},s={class:"row"},a={class:"col-6 text-center"},r={class:"col-6 text-center"};function d(e,t,i,d,c,u){const p=(0,l.up)("q-separator"),g=(0,l.up)("q-btn"),h=(0,l.up)("q-card");return e.$q.platform.is.mobile?((0,l.wg)(),(0,l.iD)("div",n,[(0,l.Wm)(p,{class:"q-my-lg"}),(0,l._)("div",s,[(0,l._)("div",a,[i.prevEnabled?((0,l.wg)(),(0,l.j4)(h,{key:0,flat:"",bordered:"",onClick:t[0]||(t[0]=t=>e.$router.push(i.prevPath)),class:"q-ma-xs"},{default:(0,l.w5)((()=>[(0,l.Wm)(g,{icon:"navigate_before",flat:""},{default:(0,l.w5)((()=>[(0,l.Uk)((0,o.zw)(i.prevLabel),1)])),_:1})])),_:1})):(0,l.kq)("",!0)]),(0,l._)("div",r,[i.nextEnabled?((0,l.wg)(),(0,l.j4)(h,{key:0,flat:"",bordered:"",onClick:t[1]||(t[1]=t=>e.$router.push(i.nextPath)),class:"q-ma-xs"},{default:(0,l.w5)((()=>[(0,l.Wm)(g,{"icon-right":"navigate_next",flat:""},{default:(0,l.w5)((()=>[(0,l.Uk)((0,o.zw)(i.nextLabel),1)])),_:1})])),_:1})):(0,l.kq)("",!0)])])])):(0,l.kq)("",!0)}const c={name:"MobileSettingsQuickNav",props:{prevEnabled:{type:Boolean},prevLabel:{type:String},prevPath:{type:String},nextEnabled:{type:Boolean},nextLabel:{type:String},nextPath:{type:String}},setup(){return{}}};var u=i(1639),p=i(926),g=i(4458),h=i(8879),m=i(9984),f=i.n(m);const w=(0,u.Z)(c,[["render",d]]),_=w;f()(c,"components",{QSeparator:p.Z,QCard:g.Z,QBtn:h.Z})},6225:(e,t,i)=>{"use strict";i.d(t,{Z:()=>se});var l=i(9835),o=i(6970);const n={class:"row items-center no-wrap"},s={class:"col"},a={class:"text-h6 text-secondary"},r={class:"col-auto"},d={class:"row"},c={key:0,class:"col col-md-auto col-12 q-pa-xs"},u={class:"col col-md-grow col-12 q-pa-xs"},p=(0,l._)("b",null,"Name:",-1),g=(0,l._)("b",null,"Author:",-1),h=(0,l._)("b",null,"Version:",-1),m=(0,l._)("b",null,"Changelog:",-1),f=["innerHTML"],w={class:"row"},_={class:"col col-12 q-pa-xs"},v={class:"plugin-info-description"},b={class:"row q-mt-md"},y=["innerHTML"],k={class:"row"},q={class:"col col-12 q-pa-xs"},P={key:0,class:"q-mt-md float-right"};function Z(e,t,i,Z,x,W){const I=(0,l.up)("q-icon"),$=(0,l.up)("q-tooltip"),S=(0,l.up)("q-btn"),Q=(0,l.up)("q-card-section"),R=(0,l.up)("q-tab"),H=(0,l.up)("q-tabs"),D=(0,l.up)("q-separator"),j=(0,l.up)("q-skeleton"),C=(0,l.up)("q-img"),V=(0,l.up)("q-avatar"),z=(0,l.up)("q-item-section"),U=(0,l.up)("q-item"),L=(0,l.up)("q-list"),M=(0,l.up)("q-scroll-area"),T=(0,l.up)("q-card"),A=(0,l.up)("q-tab-panel"),B=(0,l.up)("q-input"),N=(0,l.up)("q-checkbox"),E=(0,l.up)("q-select"),F=(0,l.up)("q-slider"),J=(0,l.up)("q-tab-panels"),O=(0,l.up)("q-dialog"),Y=(0,l.Q2)("close-popup");return(0,l.wg)(),(0,l.j4)(O,{modelValue:x.pluginInfoShowDialog,"onUpdate:modelValue":t[5]||(t[5]=e=>x.pluginInfoShowDialog=e),"full-height":"",maximized:e.$q.platform.is.mobile,"transition-show":e.$q.platform.is.mobile?"slide-left":"scale","transition-hide":e.$q.platform.is.mobile?"slide-right":"scale",position:e.$q.platform.is.mobile?"right":"standard",onBeforeHide:W.beforeDialogHide,onHide:W.onDialogHide},{default:(0,l.w5)((()=>[(0,l.Wm)(T,{style:{width:"1200px","max-width":"95vw"}},{default:(0,l.w5)((()=>[(0,l.Wm)(Q,{class:"bg-card-head"},{default:(0,l.w5)((()=>[(0,l._)("div",n,[(0,l._)("div",s,[(0,l._)("div",a,[(0,l.Wm)(I,{name:"extension"}),(0,l.Uk)(" "+(0,o.zw)(x.header),1)])]),(0,l._)("div",r,[e.$q.platform.is.mobile?(0,l.wy)(((0,l.wg)(),(0,l.j4)(S,{key:1,color:"grey-7",dense:"",round:"",flat:"",icon:"arrow_forward"},{default:(0,l.w5)((()=>[(0,l.Wm)($,{class:"bg-white text-primary"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,o.zw)(e.$t("tooltips.close")),1)])),_:1})])),_:1})),[[Y]]):(0,l.wy)(((0,l.wg)(),(0,l.j4)(S,{key:0,color:"grey-7",dense:"",round:"",flat:"",icon:"close_fullscreen"},{default:(0,l.w5)((()=>[(0,l.Wm)($,{class:"bg-white text-primary"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,o.zw)(e.$t("tooltips.close")),1)])),_:1})])),_:1})),[[Y]])])])])),_:1}),x.settings.length>0?((0,l.wg)(),(0,l.j4)(H,{key:0,modelValue:x.tab,"onUpdate:modelValue":t[2]||(t[2]=e=>x.tab=e),align:"left",class:"text-primary"},{default:(0,l.w5)((()=>[(0,l.Wm)(R,{label:e.$t("navigation.info"),name:"info",onClick:t[0]||(t[0]=e=>W.setHeader("info"))},null,8,["label"]),(0,l.Wm)(R,{label:e.$t("navigation.settings"),name:"settings",onClick:t[1]||(t[1]=e=>W.setHeader("settings"))},null,8,["label"])])),_:1},8,["modelValue"])):(0,l.kq)("",!0),(0,l.Wm)(D),(0,l.Wm)(J,{modelValue:x.tab,"onUpdate:modelValue":t[4]||(t[4]=e=>x.tab=e),animated:""},{default:(0,l.w5)((()=>[(0,l.Wm)(A,{name:"info"},{default:(0,l.w5)((()=>[(0,l._)("div",d,[e.$q.platform.is.mobile?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("div",c,[x.icon?((0,l.wg)(),(0,l.j4)(V,{key:1,rounded:"",size:"350px","font-size":"82px","text-color":"white",class:"shadow-1"},{default:(0,l.w5)((()=>[(0,l.Wm)(C,{src:x.icon,class:"",style:{"max-width":"300px"}},null,8,["src"])])),_:1})):((0,l.wg)(),(0,l.j4)(j,{key:0,width:"350px",height:"350px",class:"shadow-1"}))])),(0,l._)("div",u,[x.name?((0,l.wg)(),(0,l.j4)(T,{key:1,style:(0,o.j5)(e.$q.platform.is.mobile&&0===x.changelog.length?"height: 128px;":"")},{default:(0,l.w5)((()=>[(0,l.Wm)(Q,{style:{"max-height":"128px"}},{default:(0,l.w5)((()=>[(0,l.Wm)(L,null,{default:(0,l.w5)((()=>[(0,l.Wm)(U,{dense:""},{default:(0,l.w5)((()=>[(0,l.Wm)(z,null,{default:(0,l.w5)((()=>[p])),_:1}),(0,l.Wm)(z,{side:""},{default:(0,l.w5)((()=>[(0,l.Uk)((0,o.zw)(x.name),1)])),_:1})])),_:1}),(0,l.Wm)(U,{dense:""},{default:(0,l.w5)((()=>[(0,l.Wm)(z,null,{default:(0,l.w5)((()=>[g])),_:1}),(0,l.Wm)(z,{side:""},{default:(0,l.w5)((()=>[(0,l.Uk)((0,o.zw)(x.author),1)])),_:1})])),_:1}),(0,l.Wm)(U,{dense:""},{default:(0,l.w5)((()=>[(0,l.Wm)(z,null,{default:(0,l.w5)((()=>[h])),_:1}),(0,l.Wm)(z,{side:""},{default:(0,l.w5)((()=>[(0,l.Uk)((0,o.zw)(x.version),1)])),_:1})])),_:1})])),_:1})])),_:1}),(0,l.Wm)(D),e.$q.platform.is.mobile&&x.changelog.length>0||!e.$q.platform.is.mobile?((0,l.wg)(),(0,l.j4)(Q,{key:0,style:{"max-height":"222px"}},{default:(0,l.w5)((()=>[(0,l.Wm)(L,null,{default:(0,l.w5)((()=>[(0,l.Wm)(U,null,{default:(0,l.w5)((()=>[(0,l.Wm)(z,null,{default:(0,l.w5)((()=>[m])),_:1})])),_:1})])),_:1}),(0,l.Wm)(M,{style:{height:"150px","max-width":"100%"}},{default:(0,l.w5)((()=>[(0,l._)("span",{class:"plugin-changelog",innerHTML:x.changelog},null,8,f)])),_:1})])),_:1})):(0,l.kq)("",!0)])),_:1},8,["style"])):((0,l.wg)(),(0,l.j4)(j,{key:0,width:"100%","max-height":"350px",class:"shadow-1"}))])]),(0,l._)("div",w,[(0,l._)("div",_,[(0,l._)("div",v,[(0,l.Wm)(T,{style:{width:"100%"}},{default:(0,l.w5)((()=>[x.description?((0,l.wg)(),(0,l.j4)(Q,{key:1,class:"q-pa-md"},{default:(0,l.w5)((()=>[(0,l._)("div",b,[(0,l._)("span",{class:"plugin-description",innerHTML:x.description},null,8,y)])])),_:1})):((0,l.wg)(),(0,l.j4)(j,{key:0,width:"100%",height:"550px",class:"shadow-1"}))])),_:1})])])])])),_:1}),(0,l.Wm)(A,{name:"settings"},{default:(0,l.w5)((()=>[(0,l._)("div",k,[(0,l._)("div",q,[(0,l._)("div",null,[(0,l.Wm)(T,{flat:"",bordered:"",class:"q-pa-sm",style:{width:"100%"}},{default:(0,l.w5)((()=>[(0,l.Wm)(Q,{class:"q-pt-none"},{default:(0,l.w5)((()=>[x.settings.length>0?((0,l.wg)(),(0,l.j4)(L,{key:0,separator:""},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(x.settings,(t=>((0,l.wg)(),(0,l.j4)(U,(0,l.dG)({class:[t.display,"q-py-lg"],key:t.key_id},t),{default:(0,l.w5)((()=>["text"===t.input_type?((0,l.wg)(),(0,l.j4)(z,{key:0},{default:(0,l.w5)((()=>[(0,l.Wm)(B,{filled:"",modelValue:t.value,"onUpdate:modelValue":e=>t.value=e,label:t.label,placeholder:t.label},null,8,["modelValue","onUpdate:modelValue","label","placeholder"])])),_:2},1024)):(0,l.kq)("",!0),"textarea"===t.input_type?((0,l.wg)(),(0,l.j4)(z,{key:1},{default:(0,l.w5)((()=>[(0,l.Wm)(B,{filled:"",type:"textarea",modelValue:t.value,"onUpdate:modelValue":e=>t.value=e,label:t.label},null,8,["modelValue","onUpdate:modelValue","label"])])),_:2},1024)):(0,l.kq)("",!0),"checkbox"===t.input_type?((0,l.wg)(),(0,l.j4)(z,{key:2,onClick:e=>t.value=!t.value},{default:(0,l.w5)((()=>[(0,l._)("div",{style:(0,o.j5)(e.$q.dark.isActive?"background:rgba(255,255,255,.07)":"background:rgba(0, 0, 0, 0.05);"),class:"q-pa-sm rounded-borders"},[(0,l.Wm)(N,{"onUpdate:modelValue":[e=>{W.updateAndTriggerSave(t.key_id,e)},e=>t.value=e],modelValue:t.value,label:t.label},null,8,["onUpdate:modelValue","modelValue","label"])],4)])),_:2},1032,["onClick"])):(0,l.kq)("",!0),"select"===t.input_type?((0,l.wg)(),(0,l.j4)(z,{key:3},{default:(0,l.w5)((()=>[(0,l.Wm)(E,{"onUpdate:modelValue":[e=>{W.updateAndTriggerSave(t.key_id,e)},e=>t.value=e],filled:"",modelValue:t.value,"emit-value":"","map-options":"",options:t.select_options,"option-value":e=>Object(e)===e&&"value"in e?e.value:null,"option-label":e=>Object(e)===e&&"label"in e?e.label:"- Null -",label:t.label},null,8,["onUpdate:modelValue","modelValue","options","option-value","option-label","label"])])),_:2},1024)):(0,l.kq)("",!0),"slider"===t.input_type?((0,l.wg)(),(0,l.j4)(z,{key:4,class:(0,o.C_)(t.display),avatar:""},{default:(0,l.w5)((()=>[(0,l.Wm)(I,{color:"primary",name:"chevron_right"})])),_:2},1032,["class"])):(0,l.kq)("",!0),"slider"===t.input_type?((0,l.wg)(),(0,l.j4)(z,{key:5,class:(0,o.C_)(t.display)},{default:(0,l.w5)((()=>[(0,l.Wm)(F,{modelValue:t.value,"onUpdate:modelValue":e=>t.value=e,min:Number(t.slider_options.min),max:Number(t.slider_options.max),step:Number(t.slider_options.step),label:"","label-value":t.label+": "+t.value+t.slider_options.suffix,"label-always":"",color:"primary"},null,8,["modelValue","onUpdate:modelValue","min","max","step","label-value"])])),_:2},1032,["class"])):(0,l.kq)("",!0),"slider"===t.input_type?((0,l.wg)(),(0,l.j4)(z,{key:6,class:(0,o.C_)(t.display),avatar:""},{default:(0,l.w5)((()=>[(0,l.Wm)(I,{color:"primary",name:"chevron_left"})])),_:2},1032,["class"])):(0,l.kq)("",!0),"browse_directory"===t.input_type?((0,l.wg)(),(0,l.j4)(z,{key:7},{default:(0,l.w5)((()=>[(0,l.Wm)(B,{readonly:"",filled:"",color:"primary",modelValue:t.value,"onUpdate:modelValue":e=>t.value=e,label:t.label,placeholder:t.label,onClick:e=>W.updateWithDirectoryBrowser(t)},{append:(0,l.w5)((()=>[(0,l.Wm)(I,{onClick:e=>W.updateWithDirectoryBrowser(t),class:"cursor-pointer",name:"folder_open"},null,8,["onClick"])])),_:2},1032,["modelValue","onUpdate:modelValue","label","placeholder","onClick"])])),_:2},1024)):(0,l.kq)("",!0)])),_:2},1040,["class"])))),128))])),_:1})):(0,l.kq)("",!0)])),_:1})])),_:1}),i.libraryId?((0,l.wg)(),(0,l.iD)("div",P,[(0,l.Wm)(S,{label:e.$t("components.plugins.resetConfiguration"),color:"secondary",onClick:t[3]||(t[3]=e=>W.resetPluginLibraryConfig())},null,8,["label"])])):(0,l.kq)("",!0)])])])])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1},8,["modelValue","maximized","transition-show","transition-hide","position","onBeforeHide","onHide"])}var x=i(499),W=i(9981),I=i.n(W),$=i(6888),S=i(1577),Q=i(9370);const R={name:"PluginInfo",components:{},data(){return{header:(0,x.iH)(""),pluginInfoShowDialog:(0,x.iH)(!1),tab:(0,x.iH)("info"),id:(0,x.iH)(null),pluginId:(0,x.iH)(""),icon:(0,x.iH)(null),name:(0,x.iH)(null),description:(0,x.iH)(null),tags:(0,x.iH)(null),author:(0,x.iH)(null),version:(0,x.iH)(null),changelog:(0,x.iH)(null),status:(0,x.iH)(null),settings:(0,x.iH)([]),originalSettings:(0,x.iH)([])}},watch:{showPluginInfo(e){e.length>0?(this.selectedPluginId=e,this.setHeader("info"),this.fetchPluginInfo(),this.pluginInfoShowDialog=!0):(this.pluginInfoShowDialog=!1,this.resetData())},showPluginSettings(e){e.length>0?(this.selectedPluginId=e,this.tab="settings",this.setHeader("settings"),this.fetchPluginInfo(),this.pluginInfoShowDialog=!0):(this.pluginInfoShowDialog=!1,this.resetData())}},methods:{resetData(){this.selectedPluginId="",this.tab="info",this.id=null,this.pluginId="",this.icon=null,this.name=null,this.description=null,this.tags=null,this.author=null,this.version=null,this.changelog=null,this.status=null,this.settings=[],this.currentSettings=[]},setHeader(e){"info"===e?this.header=this.$t("headers.pluginInfo"):this.libraryId?this.header=this.$t("headers.libraryPluginConfig"):this.header=this.$t("headers.globalPluginConfig")},resetPluginLibraryConfig(){let e={plugin_id:this.pluginId};this.libraryId&&(e.library_id=this.libraryId),I()({method:"post",url:(0,$.J4)("v2","plugins/settings/reset"),data:e}).then((e=>{this.fetchPluginInfo(),this.$q.notify({color:"positive",position:"top",message:this.$t("notifications.SavedPluginSettings"),icon:"check_circle",timeout:200,actions:[{icon:"close",color:"white"}]}),this.$emit("hide")})).catch((()=>{this.$q.notify({color:"negative",position:"top",message:this.$t("notifications.failedToSavePluginSettings"),icon:"report_problem",actions:[{icon:"close",color:"white"}]})}))},fetchPluginInfo(){console.debug("Fetching info for "+this.selectedPluginId);let e={plugin_id:this.selectedPluginId,prefer_local:!0};this.viewingRemoteInfo&&(e.prefer_local=!1),this.libraryId&&(e.library_id=this.libraryId),I()({method:"post",url:(0,$.J4)("v2","plugins/info"),data:e}).then((e=>{this.id=e.data.id,this.pluginId=e.data.plugin_id,this.icon=e.data.icon,this.name=e.data.name,this.tags=e.data.tags,this.author=e.data.author,this.version=e.data.version,this.changelog=e.data.changelog,this.status=e.data.status,this.viewingRemoteInfo||(this.settings=e.data.settings,this.currentSettings=JSON.parse(JSON.stringify(e.data.settings))),this.changelog=(0,S.iw)(e.data.changelog),this.description=(0,S.iw)(e.data.description)}))},settingsHaveBeenModified(){let e={};for(let t=0;t<this.settings.length;t++)e[this.settings[t].key_id]=this.settings[t].value;for(let t=0;t<this.currentSettings.length;t++)if(e[this.currentSettings[t].key_id]!==this.currentSettings[t].value)return!0;return!1},beforeDialogHide(){"undefined"!==typeof this.currentSettings&&this.currentSettings.length>0&&this.settingsHaveBeenModified()&&this.savePluginSettings()},onDialogHide(){this.$emit("hide")},savePluginSettings:function(){console.debug("Fetching info for "+this.pluginId);let e={plugin_id:this.pluginId,settings:this.settings};this.libraryId&&(e.library_id=this.libraryId),I()({method:"post",url:(0,$.J4)("v2","plugins/settings/update"),data:e}).then((e=>{this.fetchPluginInfo(),this.$q.notify({color:"positive",position:"top",message:this.$t("notifications.SavedPluginSettings"),icon:"check_circle",timeout:200,actions:[{icon:"close",color:"white"}]})})).catch((()=>{this.$q.notify({color:"negative",position:"top",message:this.$t("notifications.failedToSavePluginSettings"),icon:"report_problem",actions:[{icon:"close",color:"white"}]})}))},updateAndTriggerSave:function(e,t){for(let i=0;i<this.settings.length;i++)if(this.settings[i].key_id===e){this.settings[i].value=t;break}this.savePluginSettings()},updateWithDirectoryBrowser:function(e){this.$q.dialog({component:Q.Z,componentProps:{dialogHeader:this.$t("headers.selectDirectory"),initialPath:e.value,listType:"directories"}}).onOk((t=>{"undefined"!==typeof t.selectedPath&&null!==t.selectedPath&&(e.value=t.selectedPath)})).onDismiss((()=>{}))}},props:{showPluginInfo:{type:String,required:!1},showPluginSettings:{type:String,required:!1},viewingRemoteInfo:{type:Boolean,required:!1},libraryId:{type:Number,required:!1}},setup(){return{}}};var H=i(1639),D=i(2074),j=i(4458),C=i(3190),V=i(2857),z=i(8879),U=i(6858),L=i(7817),M=i(900),T=i(926),A=i(9800),B=i(4106),N=i(7133),E=i(1357),F=i(335),J=i(3246),O=i(490),Y=i(1233),G=i(6663),K=i(6611),X=i(1221),ee=i(7887),te=i(8423),ie=i(2146),le=i(9984),oe=i.n(le);const ne=(0,H.Z)(R,[["render",Z]]),se=ne;oe()(R,"components",{QDialog:D.Z,QCard:j.Z,QCardSection:C.Z,QIcon:V.Z,QBtn:z.Z,QTooltip:U.Z,QTabs:L.Z,QTab:M.Z,QSeparator:T.Z,QTabPanels:A.Z,QTabPanel:B.Z,QSkeleton:N.ZP,QAvatar:E.Z,QImg:F.Z,QList:J.Z,QItem:O.Z,QItemSection:Y.Z,QScrollArea:G.Z,QInput:K.Z,QCheckbox:X.Z,QSelect:ee.Z,QSlider:te.Z}),oe()(R,"directives",{ClosePopup:ie.Z})},282:(e,t,i)=>{"use strict";i.d(t,{Z:()=>je});var l=i(9835),o=i(6970);const n={class:"row items-center no-wrap"},s={key:0,class:"col"},a={class:"col"},r={class:"text-h6 text-blue-10"},d={key:1,class:"col-auto"},c={class:"q-pa-md"},u={class:"row q-col-gutter-xs q-ma-xs"},p={key:0,class:"col-auto"},g={class:"col-auto"},h={class:"col-auto"},m={class:"row q-col-gutter-xs q-ma-xs"},f={class:"col-auto"},w={class:"full-width row flex-center text-accent q-gutter-sm"},_={class:"q-pa-xs col-xs-12 col-sm-6 col-md-4 col-lg-3 col-xl-2"},v={class:"row"},b={style:{overflow:"hidden","white-space":"nowrap"}},y={class:"row float-right"},k=(0,l.Uk)(" Update Available "),q=(0,l.Uk)(" Installed "),P={class:"row q-col-gutter-md"},Z={class:"col-auto"},x={class:"absolute-full flex flex-center bg-negative text-white text-caption"},W={class:"col"},I={class:"row q-col-gutter-md"},$={class:"col-4 self-start"},S={class:"col self-end"},Q={class:"row q-col-gutter-md"},R={class:"col-4 self-start"},H={class:"col self-end"},D={class:"row q-col-gutter-md"},j={class:"col-4 self-start"},C={class:"col self-end"},V={class:"row"},z={class:"col-auto items-end"},U={class:"row justify-center q-mt-md"};function L(e,t,i,L,M,T){const A=(0,l.up)("q-btn"),B=(0,l.up)("q-tooltip"),N=(0,l.up)("q-card-section"),E=(0,l.up)("PluginInstallerManageRepos"),F=(0,l.up)("q-icon"),J=(0,l.up)("q-input"),O=(0,l.up)("q-select"),Y=(0,l.up)("q-item-label"),G=(0,l.up)("q-separator"),K=(0,l.up)("q-skeleton"),X=(0,l.up)("q-img"),ee=(0,l.up)("q-avatar"),te=(0,l.up)("q-spinner"),ie=(0,l.up)("q-inner-loading"),le=(0,l.up)("q-card"),oe=(0,l.up)("q-table"),ne=(0,l.up)("q-pagination"),se=(0,l.up)("PluginInfo"),ae=(0,l.up)("q-dialog"),re=(0,l.Q2)("close-popup"),de=(0,l.Q2)("touch-swipe");return(0,l.wg)(),(0,l.j4)(ae,{ref:"dialogRef",maximized:e.$q.platform.is.mobile,"transition-show":e.$q.platform.is.mobile?"jump-left":"slide-left","transition-hide":e.$q.platform.is.mobile?"jump-right":"slide-right","full-height":"",position:"right",onHide:T.onDialogHide},{default:(0,l.w5)((()=>[(0,l.wy)(((0,l.wg)(),(0,l.j4)(le,{style:(0,o.j5)([e.$q.platform.is.mobile?"max-width: 100vw;":"max-width: 95vw;",{width:"2000px"}])},{default:(0,l.w5)((()=>[(0,l.Wm)(N,{class:"bg-card-head"},{default:(0,l.w5)((()=>[(0,l._)("div",n,[e.$q.platform.is.mobile?((0,l.wg)(),(0,l.iD)("div",s,[(0,l.wy)((0,l.Wm)(A,{color:"grey-7",dense:"",round:"",flat:"",icon:"arrow_back"},null,512),[[re]])])):(0,l.kq)("",!0),(0,l._)("div",a,[(0,l._)("div",r,(0,o.zw)(e.$t("headers.pluginInstaller")),1)]),e.$q.platform.is.mobile?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("div",d,[(0,l.wy)(((0,l.wg)(),(0,l.j4)(A,{color:"grey-7",dense:"",round:"",flat:"",icon:"arrow_forward"},{default:(0,l.w5)((()=>[(0,l.Wm)(B,{class:"bg-white text-primary"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,o.zw)(e.$t("tooltips.close")),1)])),_:1})])),_:1})),[[re]])]))])])),_:1}),(0,l.Wm)(N,{class:"q-pa-none"},{default:(0,l.w5)((()=>[(0,l._)("div",c,[(0,l.Wm)(oe,{grid:"","card-class":"bg-primary text-white",rows:e.rows,columns:e.columns,"row-key":"name",filter:e.filter,"hide-header":"",pagination:e.pagination,"onUpdate:pagination":t[2]||(t[2]=t=>e.pagination=t),"hide-pagination":""},(0,l.Nv)({"top-left":(0,l.w5)((()=>[(0,l._)("div",u,[e.$q.platform.is.mobile?((0,l.wg)(),(0,l.iD)("div",p,[(0,l.Wm)(E)])):(0,l.kq)("",!0),(0,l._)("div",g,[(0,l.Wm)(J,{filled:"",class:"shadow-1",dense:"",debounce:"300",modelValue:e.filter,"onUpdate:modelValue":t[0]||(t[0]=t=>e.filter=t),placeholder:e.$t("navigation.search")},{append:(0,l.w5)((()=>[(0,l.Wm)(F,{name:"search"})])),_:1},8,["modelValue","placeholder"])]),(0,l._)("div",h,[(0,l.Wm)(O,{filled:"",class:"shadow-1","onUpdate:modelValue":[T.loadInstallablePlugins,t[1]||(t[1]=t=>e.tagFilter=t)],dense:"",label:e.$t("components.plugins.categoryFilter"),modelValue:e.tagFilter,options:e.tags,style:{"min-width":"300px"}},{append:(0,l.w5)((()=>[(0,l.Wm)(F,{name:"style"})])),_:1},8,["onUpdate:modelValue","label","modelValue","options"])])])])),"no-data":(0,l.w5)((()=>[(0,l._)("div",w,[(0,l.Wm)(F,{size:"2em",name:"sentiment_dissatisfied"}),(0,l.Wm)(Y,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,o.zw)(e.$t("headers.listEmpty")),1)])),_:1}),(0,l.Wm)(F,{size:"2em",name:"priority_high"})])])),item:(0,l.w5)((t=>[(0,l._)("div",_,[(0,l.Wm)(le,{style:{"min-height":"220px"}},{default:(0,l.w5)((()=>[(0,l.Wm)(N,{style:{"min-height":"80px"}},{default:(0,l.w5)((()=>[(0,l._)("div",v,[(0,l._)("span",b,[(0,l._)("strong",null,(0,o.zw)(t.row.name),1)])]),(0,l._)("div",y,[t.row.update_available?((0,l.wg)(),(0,l.j4)(A,{key:0,color:"warning",dense:"",round:"",flat:"",icon:"check_circle"},{default:(0,l.w5)((()=>[k])),_:1})):t.row.installed?((0,l.wg)(),(0,l.j4)(A,{key:1,color:"positive",dense:"",round:"",flat:"",icon:"check_circle"},{default:(0,l.w5)((()=>[q])),_:1})):(0,l.kq)("",!0)])])),_:2},1024),t.row.update_available?((0,l.wg)(),(0,l.j4)(G,{key:0,color:"warning"})):t.row.installed?((0,l.wg)(),(0,l.j4)(G,{key:1,color:"positive"})):((0,l.wg)(),(0,l.j4)(G,{key:2})),(0,l.Wm)(N,null,{default:(0,l.w5)((()=>[(0,l._)("div",P,[(0,l._)("div",Z,[t.row.icon?((0,l.wg)(),(0,l.j4)(ee,{key:1,rounded:"",size:"100px"},{default:(0,l.w5)((()=>[(0,l.Wm)(X,{src:t.row.icon,style:{height:"100%","max-width":"100px"}},{error:(0,l.w5)((()=>[(0,l._)("div",x,(0,o.zw)(e.$t("status.cannotLoadImage")),1)])),_:2},1032,["src"])])),_:2},1024)):((0,l.wg)(),(0,l.j4)(K,{key:0,width:"100px",height:"100px"}))]),(0,l._)("div",W,[(0,l._)("div",I,[(0,l._)("div",$,(0,o.zw)(e.$t("components.plugins.author")),1),(0,l._)("div",S,(0,o.zw)(t.row.author),1)]),(0,l._)("div",Q,[(0,l._)("div",R,(0,o.zw)(e.$t("components.plugins.version")),1),(0,l._)("div",H,(0,o.zw)(t.row.version),1)]),(0,l._)("div",D,[(0,l._)("div",j,(0,o.zw)(e.$t("components.plugins.repo")),1),(0,l._)("div",C,(0,o.zw)(t.row.repo_name),1)])])])])),_:2},1024),(0,l.Wm)(N,null,{default:(0,l.w5)((()=>[(0,l._)("div",V,[(0,l._)("div",z,[t.row.update_available?((0,l.wg)(),(0,l.j4)(A,{key:0,onClick:e=>T.installPlugin(t.row.plugin_id,t.row.repo_id),color:"accent",dense:"",round:"",flat:"",icon:"update"},{default:(0,l.w5)((()=>[(0,l.Wm)(B,{class:"bg-white text-primary"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,o.zw)(e.$t("tooltips.update")),1)])),_:1})])),_:2},1032,["onClick"])):t.row.installed?((0,l.wg)(),(0,l.j4)(A,{key:1,onClick:e=>T.installPlugin(t.row.plugin_id,t.row.repo_id),color:"accent",dense:"",round:"",flat:"",icon:"download_for_offline"},{default:(0,l.w5)((()=>[(0,l.Wm)(B,{class:"bg-white text-primary"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,o.zw)(e.$t("tooltips.reinstall")),1)])),_:1})])),_:2},1032,["onClick"])):((0,l.wg)(),(0,l.j4)(A,{key:2,onClick:e=>T.installPlugin(t.row.plugin_id,t.row.repo_id),color:"accent",dense:"",round:"",flat:"",icon:"download_for_offline"},{default:(0,l.w5)((()=>[(0,l.Wm)(B,{class:"bg-white text-primary"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,o.zw)(e.$t("tooltips.install")),1)])),_:1})])),_:2},1032,["onClick"])),(0,l.Wm)(A,{onClick:i=>e.showPluginInfo=t.row.plugin_id,color:"secondary",dense:"",round:"",flat:"",icon:"info"},{default:(0,l.w5)((()=>[(0,l.Wm)(B,{class:"bg-white text-primary"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,o.zw)(e.$t("tooltips.pluginInfo")),1)])),_:1})])),_:2},1032,["onClick"])])])])),_:2},1024),(0,l.Wm)(ie,{showing:e.pluginInstalling[t.row.repo_id+t.row.plugin_id]},{default:(0,l.w5)((()=>[(0,l.Wm)(te,{size:"100px",color:"secondary"})])),_:2},1032,["showing"])])),_:2},1024)])])),_:2},[e.$q.platform.is.mobile?void 0:{name:"top-right",fn:(0,l.w5)((()=>[(0,l._)("div",m,[(0,l._)("div",f,[(0,l.Wm)(E,{onRepoReloaded:T.reloadPluginsPostRepoReloaded},null,8,["onRepoReloaded"])])])]))}]),1032,["rows","columns","filter","pagination"]),(0,l._)("div",U,[(0,l.Wm)(ne,{modelValue:e.pagination.page,"onUpdate:modelValue":t[3]||(t[3]=t=>e.pagination.page=t),color:"secondary",max:e.pagesNumber,size:"md","direction-links":"","boundary-links":""},null,8,["modelValue","max"])])])])),_:1})])),_:1},8,["style"])),[[de,T.hide,void 0,{touch:!0,left:!0}]]),(0,l.Wm)(se,{showPluginInfo:e.showPluginInfo,viewingRemoteInfo:e.viewingRemoteInfo,onHide:T.closePluginInfo},null,8,["showPluginInfo","viewingRemoteInfo","onHide"])])),_:1},8,["maximized","transition-show","transition-hide","onHide"])}var M=i(9981),T=i.n(M),A=i(6888),B=i(499),N=i(6225);const E={class:"row no-wrap q-pa-md"},F={class:"column"},J={class:"row no-wrap q-pa-md"},O={class:"column"},Y={class:"text-h6 q-mb-md"},G=["onClick"],K={class:"column items-center"},X=["src"];function ee(e,t,i,n,s,a){const r=(0,l.up)("q-btn"),d=(0,l.up)("q-input"),c=(0,l.up)("q-btn-dropdown"),u=(0,l.up)("q-item-label"),p=(0,l.up)("q-item-section"),g=(0,l.up)("q-item"),h=(0,l.up)("q-list"),m=(0,l.up)("q-separator"),f=(0,l.up)("q-skeleton"),w=(0,l.up)("q-avatar"),_=(0,l.up)("q-btn-group");return(0,l.wg)(),(0,l.iD)(l.HY,null,[e.$q.platform.is.mobile?((0,l.wg)(),(0,l.j4)(r,{key:0,onClick:t[0]||(t[0]=e=>a.reloadAllReposData()),class:"q-mb-xs",color:"secondary",label:e.$t("components.plugins.refreshRepositories")},null,8,["label"])):(0,l.kq)("",!0),(0,l.Wm)(_,null,{default:(0,l.w5)((()=>[e.$q.platform.is.mobile?(0,l.kq)("",!0):((0,l.wg)(),(0,l.j4)(r,{key:0,onClick:t[1]||(t[1]=e=>a.reloadAllReposData()),color:"secondary",label:e.$t("components.plugins.refreshRepositories")},null,8,["label"])),(0,l.Wm)(c,{color:"secondary",label:e.$t("components.plugins.addRepository")},{default:(0,l.w5)((()=>[(0,l._)("div",null,[(0,l._)("div",E,[(0,l._)("div",F,[(0,l.Wm)(d,{style:{"min-width":"400px"},filled:"",type:"textarea",modelValue:s.newRepo,"onUpdate:modelValue":t[2]||(t[2]=e=>s.newRepo=e),label:e.$t("components.plugins.newRepository")},null,8,["modelValue","label"]),(0,l.Wm)(r,{onClick:t[3]||(t[3]=e=>a.saveNewRepo()),color:"secondary",label:e.$t("navigation.save")},null,8,["label"])])])])])),_:1},8,["label"]),(0,l.Wm)(c,{"auto-close":"",color:"secondary",label:e.$t("components.plugins.repoList")},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(s.repoList,(t=>((0,l.wg)(),(0,l.iD)("div",(0,l.dG)({key:t.id},t),[(0,l._)("div",J,[(0,l._)("div",O,[(0,l._)("div",Y,(0,o.zw)(e.$t("headers.information"))+":",1),(0,l.Wm)(h,null,{default:(0,l.w5)((()=>[(0,l.Wm)(g,null,{default:(0,l.w5)((()=>[(0,l.Wm)(p,null,{default:(0,l.w5)((()=>[(0,l.Wm)(u,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,o.zw)(e.$t("components.plugins.repoName")),1)])),_:1}),(0,l.Wm)(u,{caption:""},{default:(0,l.w5)((()=>[(0,l.Uk)((0,o.zw)(t.name),1)])),_:2},1024)])),_:2},1024)])),_:2},1024),(0,l.Wm)(g,null,{default:(0,l.w5)((()=>[(0,l.Wm)(p,null,{default:(0,l.w5)((()=>[(0,l.Wm)(u,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,o.zw)(e.$t("components.plugins.repoSource")),1)])),_:1}),(0,l.Wm)(u,{caption:""},{default:(0,l.w5)((()=>[(0,l._)("span",{class:"cursor-pointer clickable",onClick:e=>a.goToRepoSource(t.path)},(0,o.zw)(t.path),9,G)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)]),(0,l.Wm)(m,{vertical:"",inset:"",class:"q-mx-lg"}),(0,l._)("div",K,[t.icon?((0,l.wg)(),(0,l.j4)(w,{key:1,rounded:"",size:"72px"},{default:(0,l.w5)((()=>[(0,l._)("img",{src:t.icon},null,8,X)])),_:2},1024)):((0,l.wg)(),(0,l.j4)(f,{key:0,width:"72px",height:"72px"})),(0,l.Wm)(r,{class:"q-ma-xs",color:"negative",label:"Remove",push:"",size:"sm",onClick:e=>a.removeRepo(t.path)},null,8,["onClick"])])])],16)))),128))])),_:1},8,["label"])])),_:1})],64)}var te=i(3752);const ie={data(){return{repoList:[],newRepo:""}},methods:{goToRepoSource:function(e){(0,te.Z)(e,null)},getRepoInfo:function(){T()({method:"get",url:(0,A.J4)("v2","plugins/repos/list")}).then((e=>{let t=[];for(let i=0;i<e.data.repos.length;i++){let l=e.data.repos[i];t[t.length]={id:l.id,name:l.name,icon:l.icon,path:l.path}}this.repoList=t})).catch((()=>{this.$q.notify({color:"negative",position:"top",message:"Failed to fetch the list of plugin repos.",icon:"report_problem",actions:[{icon:"close",color:"white"}]})}))},updateRepoList:function(e){let t={repos_list:e};return T()({method:"post",url:(0,A.J4)("v2","plugins/repos/update"),data:t})},reloadAllReposData:function(){T()({method:"post",url:(0,A.J4)("v2","plugins/repos/reload")}).then((e=>{this.$q.notify({color:"positive",position:"top",message:this.$t("notifications.reposRefreshSuccess"),icon:"check_circle",actions:[{icon:"close",color:"white"}]}),this.getRepoInfo(),this.$emit("repoReloaded")})).catch((()=>{this.$q.notify({color:"warning",position:"top",message:this.$t("notifications.reposRefreshFailure"),icon:"report_problem",actions:[{icon:"close",color:"white"}]})}))},saveNewRepo:function(){if(this.newRepo.length>0){let e=[];for(let t=0;t<this.repoList.length;t++){let i=this.repoList[t].path;if(this.newRepo.trim()===i)return void this.$q.notify({color:"negative",position:"top",message:this.$t("notifications.repoAlreadyExists")+' "'+this.newRepo.trim()+'"',icon:"report_problem",actions:[{icon:"close",color:"white"}]});e[e.length]=i}e[e.length]=this.newRepo.trim(),this.updateRepoList(e).then((e=>{this.$q.notify({color:"positive",position:"top",message:this.$t("notifications.saved"),icon:"cloud_done",actions:[{icon:"close",color:"white"}]}),this.newRepo="",this.reloadAllReposData(),this.$emit("repoReloaded",!0)})).catch((()=>{this.$q.notify({color:"negative",position:"top",message:this.$t("notifications.newRepoAddFailed"),icon:"report_problem",actions:[{icon:"close",color:"white"}]})}))}},removeRepo:function(e){let t=[];for(let i=0;i<this.repoList.length;i++){let l=this.repoList[i];e.trim()!==l.path&&(t[t.length]=l.path)}this.updateRepoList(t).then((t=>{this.$q.notify({color:"positive",position:"top",message:this.$t("notifications.repoRemovedSuccess")+' "'+e.trim()+'"',icon:"check_circle",actions:[{icon:"close",color:"white"}]}),this.reloadAllReposData(),this.$emit("repoReloaded")})).catch((()=>{this.$q.notify({color:"negative",position:"top",message:this.$t("notifications.repoRemovedFailed"),icon:"report_problem",actions:[{icon:"close",color:"white"}]})}))}},created(){this.getRepoInfo()},emits:["repoReloaded"]};var le=i(1639),oe=i(8879),ne=i(7236),se=i(2045),ae=i(6611),re=i(3246),de=i(490),ce=i(1233),ue=i(3115),pe=i(926),ge=i(7133),he=i(1357),me=i(9984),fe=i.n(me);const we=(0,le.Z)(ie,[["render",ee]]),_e=we;fe()(ie,"components",{QBtn:oe.Z,QBtnGroup:ne.Z,QBtnDropdown:se.Z,QInput:ae.Z,QList:re.Z,QItem:de.Z,QItemSection:ce.Z,QItemLabel:ue.Z,QSeparator:pe.Z,QSkeleton:ge.ZP,QAvatar:he.Z});const ve=[{name:"icon",required:!0,label:"",align:"left",field:"icon",sortable:!0},{name:"name",required:!0,label:"Name",align:"left",field:"name",sortable:!0},{name:"author",align:"center",label:"Author",field:"author",sortable:!1},{name:"version",align:"center",label:"Version",field:"version",sortable:!1}],be={name:"PluginInstallerDialog",props:{},emits:["ok","hide","path"],components:{PluginInstallerManageRepos:_e,PluginInfo:N.Z},methods:{show(){this.$refs.dialogRef.show()},hide(){this.$refs.dialogRef.hide()},onDialogHide(){this.$emit("hide")},installPlugin:function(e,t){console.debug("Installing plugin by Plugin ID: "+e+"from Repo ID - "+t);let i={plugin_id:e,repo_id:t};this.pluginInstalling[t+e]=!0,T()({method:"post",url:(0,A.J4)("v2","plugins/install"),data:i}).then((i=>{this.$q.notify({color:"positive",position:"top",message:this.$t("notifications.installed"),icon:"check_circle",actions:[{icon:"close",color:"white"}]});for(let t=0;t<this.rows.length;t++){let i=this.rows[t];i.plugin_id===e&&(i.installed=!0,i.update_available=!1)}this.pluginInstalling[t+e]=!1})).catch((()=>{this.$q.notify({color:"negative",position:"top",message:this.$t("notifications.failedToInstallPlugin"),icon:"report_problem",actions:[{icon:"close",color:"white"}]}),this.pluginInstalling[t+e]=!1}))},loadInstallablePlugins:function(){T()({method:"get",url:(0,A.J4)("v2","plugins/installable")}).then((e=>{let t=e.data.plugins,i=[],l=[];for(let o=0;o<t.length;o++){let e=t[o],n=e.tags.split(",");for(let t=0;t<n.length;t++){let e=n[t];l.includes(e)||(l[l.length]=e.trim())}("All"===this.tagFilter||e.tags.includes(this.tagFilter))&&(i[i.length]={plugin_id:e.plugin_id,name:e.name,author:e.author,description:e.description,version:e.version,icon:e.icon,tags:e.tags,installed:e.status.installed,update_available:e.status.update_available,package_url:e.package_url,changelog_url:e.changelog_url,repo_name:e.repo_name,repo_id:e.repo_id})}"All"!==this.tagFilter&&(this.pagination.page=1),this.tags=["All"].concat(l.sort()),this.rows=i}))},reloadPluginsPostRepoReloaded:function(){this.pagination.page=1,this.loadInstallablePlugins()},closePluginInfo:function(){this.showPluginInfo=""}},created(){this.loadInstallablePlugins()},data:function(){const e=(0,B.iH)([]),t=(0,B.iH)("All"),i=(0,B.iH)([]),o=(0,B.iH)(""),n=(0,B.iH)({page:1,rowsPerPage:12});return{filter:o,columns:ve,rows:i,pagination:n,pagesNumber:(0,l.Fl)((()=>Math.ceil(i.value.length/n.value.rowsPerPage))),tags:e,tagFilter:t,viewingRemoteInfo:(0,B.iH)(!0),showPluginInfo:(0,B.iH)(""),pluginInstalling:(0,B.iH)({})}}};var ye=i(2074),ke=i(4458),qe=i(3190),Pe=i(6858),Ze=i(7580),xe=i(2857),We=i(7887),Ie=i(335),$e=i(854),Se=i(3940),Qe=i(996),Re=i(4871),He=i(2146);const De=(0,le.Z)(be,[["render",L]]),je=De;fe()(be,"components",{QDialog:ye.Z,QCard:ke.Z,QCardSection:qe.Z,QBtn:oe.Z,QTooltip:Pe.Z,QTable:Ze.Z,QInput:ae.Z,QIcon:xe.Z,QSelect:We.Z,QItemLabel:ue.Z,QSeparator:pe.Z,QSkeleton:ge.ZP,QAvatar:he.Z,QImg:Ie.Z,QInnerLoading:$e.Z,QSpinner:Se.Z,QPagination:Qe.Z}),fe()(be,"directives",{TouchSwipe:Re.Z,ClosePopup:He.Z})},1561:(e,t,i)=>{e.exports=i.p+"img/unmanic-logo-white.a3277864.png"}}]);