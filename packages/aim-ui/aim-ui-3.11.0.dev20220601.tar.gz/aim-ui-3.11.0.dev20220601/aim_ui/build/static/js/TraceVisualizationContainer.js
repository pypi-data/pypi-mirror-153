(this.webpackJsonpui_v2=this.webpackJsonpui_v2||[]).push([[19],{1335:function(e,t,n){},1372:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(187),o=n(9),l=n(743),c=n(741),u=n(224),s=n(248),d=n(44),p=n.n(d),v=n(10),f=n(6),b=n(3),g=n(478),m=n(92),h=n(246),y=n(485),j=n(223),O=n(483),x=n(871),T={distributions:{dataProcessor:x.e,sliders:{record_range:{defaultValue:[0,50],title:"Steps",tooltip:"Training step. Increments every time track() is called",sliderType:"range",infoPropertyName:"step"}},inputs:{record_density:{defaultValue:50,title:"Steps",tooltip:"Number of steps to display"}}},images:{dataProcessor:x.f,sliders:{record_range:{defaultValue:[0,50],tooltip:"Training step. Increments every time track() is called",title:"Steps",sliderType:"range",infoPropertyName:"step"},index_range:{defaultValue:[0,50],tooltip:"Index in the list of images passed to track() call",title:"Indices",sliderType:"range",infoPropertyName:"index"}},inputs:{record_density:{defaultValue:50,title:"Steps count",tooltip:"Number of steps to display"},index_density:{defaultValue:5,title:"Indices count",tooltip:"Number of images per step"}}},audios:{dataProcessor:x.d,sliders:{record_range:{defaultValue:[0,50],tooltip:"Training step. Increments every time track() is called",title:"Steps",sliderType:"range",infoPropertyName:"step"},index_range:{defaultValue:[0,50],tooltip:"Index in the list of audios passed to track() call",title:"Indices",sliderType:"range",infoPropertyName:"index"}},inputs:{record_density:{defaultValue:50,title:"Steps count",tooltip:"Number of steps to display"},index_density:{defaultValue:5,title:"Indices count",tooltip:"Number of audios per step"}}},texts:{dataProcessor:x.h,sliders:{record_range:{defaultValue:[0,50],tooltip:"Training step. Increments every time track() is called",title:"Steps",sliderType:"range",infoPropertyName:"step"},index_range:{defaultValue:[0,50],tooltip:"Index in the list of texts passed to track() call",title:"Indices",sliderType:"range",infoPropertyName:"index"}},inputs:{record_density:{defaultValue:50,title:"Steps count",tooltip:"Number of steps to display"},index_density:{defaultValue:5,title:"Indices count",tooltip:"Number of texts per step"}}},figures:{dataProcessor:x.g,paramsToApi:function(e){var t,n,a=null!==(t=null===e||void 0===e||null===(n=e.inputs)||void 0===n?void 0:n.record_range)&&void 0!==t?t:-1;return-1!==a?{record_step:a,record_density:1}:{record_density:1}},inputValidation:function(e,t){return[{errorCondition:function(t){return+t<e},errorText:"Value should be equal or greater then ".concat(e)},{errorCondition:function(e){return+e>t},errorText:"Value should be equal or smaller then ".concat(t)}]},sliders:{record_range:{defaultValue:[0,0],tooltip:"Training step. Increments every time track() is called",title:"Step",sliderType:"single",infoPropertyName:"step"}},inputs:{record_range:{defaultValue:-1,tooltip:"Training step. To see figures tracked in the step.",title:"Step"}}}},N=null,_=Object(h.a)({});function V(e){var t=T[e],n={sliders:{},inputs:{},inputsValidations:{}},a={rangePanel:[]},i=Object.keys(null===t||void 0===t?void 0:t.inputs);return Object.keys(t.sliders).forEach((function(e,r){var o=t.sliders[e];n.sliders[e]=o.defaultValue;var l=t.inputs[i[r]],c={sliderName:e,inputName:i[r],sliderTitle:o.title,inputTitle:l.title,sliderTitleTooltip:o.tooltip,inputTitleTooltip:l.tooltip,sliderType:o.sliderType,inputValidationPatterns:t.inputValidation,infoPropertyName:null===o||void 0===o?void 0:o.infoPropertyName};a.rangePanel.push(c)})),Object.keys(t.inputs).forEach((function(e){n.inputs[e]=t.inputs[e].defaultValue})),{queryData:n,config:a}}function S(){var e;N&&(null===(e=N)||void 0===e||e.abort(),N=null)}function I(e,t){var n={};return t.forEach((function(t){n[t]=e[t]})),n}function P(){var e,t,n,a,i,r,o,l,c,u,s,d,h,j,V,P,D,k,C,A,E,B,q,K=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return p.a.async((function(z){for(;;)switch(z.prev=z.next){case 0:return S(),e=_.getState(),t=e.traceType||"distributions",n=e.batchRequestOptions,a=e.queryData,(i=T[t].paramsToApi)||(i=function(e){return Object(b.a)(Object(b.a)({},K?{}:Object(x.i)(null===e||void 0===e?void 0:e.sliders)),null===e||void 0===e?void 0:e.inputs)}),N="figures"===t?y.a.getBatchByStep(e.runHash||"",t,i(a),[null===n||void 0===n?void 0:n.trace]):y.a.getBatch(e.runHash||"",t,i(a),[null===n||void 0===n?void 0:n.trace]),z.prev=8,_.setState(Object(b.a)(Object(b.a)({},e),{},{batchRequestOptions:Object(b.a)(Object(b.a)({},n),{},{params:a}),isTraceBatchLoading:!0})),z.next=12,p.a.awrap(null===(r=N)||void 0===r?void 0:r.call((function(e){console.error(e)})));case 12:o=z.sent,l=Object(O.a)(o),c=Object(O.b)(l),u=Object(O.c)(c,1),s={},d=!0,h=!1,z.prev=19,V=Object(g.a)(u);case 21:return z.next=23,p.a.awrap(V.next());case 23:return P=z.sent,d=P.done,z.next=27,p.a.awrap(P.value);case 27:if(D=z.sent,d){z.next=34;break}k=D,C=Object(f.a)(k,2),A=C[0],E=C[1],s=Object(b.a)(Object(b.a)({},s),{},Object(v.a)({},A[0],E));case 31:d=!0,z.next=21;break;case 34:z.next=40;break;case 36:z.prev=36,z.t0=z.catch(19),h=!0,j=z.t0;case 40:if(z.prev=40,z.prev=41,d||null==V.return){z.next=45;break}return z.next=45,p.a.awrap(V.return());case 45:if(z.prev=45,!h){z.next=48;break}throw j;case 48:return z.finish(45);case 49:return z.finish(40);case 50:B=T[e.traceType||"distributions"].dataProcessor(s,null===e||void 0===e?void 0:e.runParams),K&&(q=I(B,Object.keys((null===a||void 0===a?void 0:a.sliders)||{})),a&&(a.sliders=q,Object.keys(a.inputs).forEach((function(e){var t,n=e.slice(0,e.indexOf("_")),i=B["".concat(n,"_range")];if(B.processedDataType===x.a.figures&&(a.inputs[e]<i[0]||a.inputs[e]>i[1]))a.inputs[e]=null!==(t=i[1])&&void 0!==t?t:1;else if(B.processedDataType!==x.a.figures&&a.inputs[e]<0||a.inputs[e]>i[1]){var r=m.a.range(i[0],i[1]+1).length;a.inputs[e]=r>0?r:1}else{var o;a.inputs[e]=null!==(o=a.inputs[e])&&void 0!==o?o:1}})))),_.setState(Object(b.a)(Object(b.a)({},e),{},{data:B,queryData:a,isTraceBatchLoading:!1,isTraceContextBatchLoading:!1})),z.next=59;break;case 55:throw z.prev=55,z.t1=z.catch(8),_.setState(Object(b.a)(Object(b.a)({},e),{},{isTraceBatchLoading:!1})),z.t1;case 59:case"end":return z.stop()}}),null,null,[[8,55],[19,36,40,50],[41,,45,49]],Promise)}function D(){var e,t=_.getState(),n=(null===(e=t.queryData)||void 0===e?void 0:e.inputsValidations)||{},a=m.a.size(Object.keys(n).filter((function(e){return!n[e]})))<=0;_.setState(Object(b.a)(Object(b.a)({},t),{},{isApplyBtnDisabled:!a}))}var k=Object(b.a)(Object(b.a)({},_),{},{destroy:function(){_.destroy(),S()},onApply:function(){var e=_.getState().traceType;P().then().catch(),Object(j.b)(u.a.runDetails.tabs[e].clickApplyButton)},initialize:function(e,t,n,a){_.init();var i=Object(x.c)(t,n),r=i.data,o=i.availableIds,l=i.title,c=i.defaultActiveKey,u=i.defaultActiveName,s=V(t),d=s.queryData,p=s.config;_.setState({config:p,queryData:d,isApplyBtnDisabled:!1,traceType:t,runHash:e,isTraceBatchLoading:!0,runParams:a,menu:{title:l,items:r,defaultActiveItemKey:c,activeItemKey:c,availableKeys:o,activeItemName:u},batchRequestOptions:{trace:Object(x.b)(c,o),query:null}}),P(!0).then().catch()},onInputChange:function(e,t){var n,a,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=_.getState();_.setState(Object(b.a)(Object(b.a)({},r),{},{queryData:Object(b.a)(Object(b.a)({},r.queryData),{},{inputs:Object(b.a)(Object(b.a)({},null===(n=r.queryData)||void 0===n?void 0:n.inputs),{},Object(v.a)({},e,t)),inputsValidations:Object(b.a)(Object(b.a)({},null===(a=r.queryData)||void 0===a?void 0:a.inputsValidations),{},Object(v.a)({},e,i))})})),D()},onRangeChange:function(e,t){var n,a=_.getState();_.setState(Object(b.a)(Object(b.a)({},a),{},{queryData:Object(b.a)(Object(b.a)({},a.queryData),{},{sliders:Object(b.a)(Object(b.a)({},null===(n=a.queryData)||void 0===n?void 0:n.sliders),{},Object(v.a)({},e,t))})}))},changeActiveItemKey:function(e,t){var n=_.getState(),a=n.menu,i=n.batchRequestOptions,r=n.traceType||"distributions",o=Object(x.b)(e||"",(null===a||void 0===a?void 0:a.availableKeys)||[]);_.setState(Object(b.a)(Object(b.a)(Object(b.a)({},n),V(r)),{},{isTraceContextBatchLoading:!0,menu:Object(b.a)(Object(b.a)({},a),{},{activeItemKey:e,activeItemName:t}),batchRequestOptions:Object(b.a)(Object(b.a)({},i),{},{trace:o})})),P(!0).then().catch(),Object(j.b)(u.a.runDetails.tabs[n.traceType].changeActiveItemKey)}}),C=n(245),A=n(131),E=n(1);var B=function(e){return function(t){var n=(null===t||void 0===t?void 0:t.traceInfo)?null===t||void 0===t?void 0:t.traceInfo[t.traceType]:null,a="No tracked ".concat(t.traceType);return n&&n.length?Object(E.jsx)(e,Object(b.a)({},t)):Object(E.jsx)(C.a,{size:"xLarge",className:"TraceEmptyVisualizer",type:A.c.EmptyData,title:a})}},q=(n(1335),i.a.lazy((function(){return Promise.all([n.e(31),n.e(9)]).then(n.bind(null,1374))}))),K=i.a.lazy((function(){return Promise.all([n.e(5),n.e(10)]).then(n.bind(null,1381))})),z=i.a.lazy((function(){return n.e(18).then(n.bind(null,1382))})),w=i.a.lazy((function(){return Promise.all([n.e(32),n.e(11)]).then(n.bind(null,1383))})),R={images:K,distributions:q,audios:i.a.lazy((function(){return Promise.all([n.e(5),n.e(8)]).then(n.bind(null,1378))})),videos:function(){return null},texts:z,figures:w};function L(e){var t,n,a,d,p,v,f=e.traceInfo,b=e.traceType,g=e.runHash,m=e.runParams,h=Object(s.a)(k);i.a.useEffect((function(){return k.initialize(g,b,f[b],m),function(){k.destroy()}}),[g,f,b]);var y=R[b];return i.a.useEffect((function(){j.a(u.a.runDetails.tabs[b].tabView)}),[b]),Object(E.jsx)(o.a,{children:Object(E.jsxs)("div",{className:"TraceVisualizationWrapper",children:[Object(E.jsx)("div",{className:"MenuArea",children:(null===h||void 0===h||null===(t=h.menu)||void 0===t?void 0:t.defaultActiveItemKey)&&Object(E.jsx)(r.a,{defaultActiveItemKey:null===h||void 0===h||null===(n=h.menu)||void 0===n?void 0:n.defaultActiveItemKey,onChangeActiveItem:k.changeActiveItemKey,title:null===h||void 0===h||null===(a=h.menu)||void 0===a?void 0:a.title,data:(null===h||void 0===h||null===(d=h.menu)||void 0===d?void 0:d.items)||[]})}),Object(E.jsxs)("div",{className:"VisualizerArea",children:[Object(E.jsx)(i.a.Suspense,{fallback:Object(E.jsx)(l.a,{}),children:Object(E.jsx)(y,{data:null===h||void 0===h?void 0:h.data,isLoading:null===h||void 0===h?void 0:h.isTraceBatchLoading,activeTraceContext:null===h||void 0===h||null===(p=h.menu)||void 0===p?void 0:p.activeItemName})}),(null===h||void 0===h?void 0:h.data)&&(null===h||void 0===h?void 0:h.config)&&!(null===h||void 0===h?void 0:h.isTraceContextBatchLoading)&&(null===h||void 0===h?void 0:h.queryData)&&Object(E.jsx)(c.a,{items:null===h||void 0===h||null===(v=h.config)||void 0===v?void 0:v.rangePanel.map((function(e){var t,n,a;return{key:e.sliderName,sliderName:e.sliderName,inputName:e.inputName,sliderTitle:e.sliderTitle,inputTitle:e.inputTitle,sliderTitleTooltip:e.sliderTitleTooltip,inputTitleTooltip:e.inputTitleTooltip,rangeEndpoints:null===h||void 0===h?void 0:h.data[e.sliderName],selectedRangeValue:(null===h||void 0===h||null===(t=h.queryData)||void 0===t?void 0:t.sliders[e.sliderName])||[0,0],inputValue:(null===h||void 0===h||null===(n=h.queryData)||void 0===n?void 0:n.inputs[e.inputName])||0,sliderType:e.sliderType,inputValidationPatterns:null===(a=e.inputValidationPatterns)||void 0===a?void 0:a.call(e,null===h||void 0===h?void 0:h.data[e.sliderName][0],null===h||void 0===h?void 0:h.data[e.sliderName][1]),infoPropertyName:null===e||void 0===e?void 0:e.infoPropertyName}})),onApply:k.onApply,onInputChange:function(e,t,n){return function(e,t,n){k.onInputChange(e,t,null===n||void 0===n?void 0:n.isValid)}(e,t,n)},onRangeSliderChange:k.onRangeChange,applyButtonDisabled:!!(null===h||void 0===h?void 0:h.isTraceBatchLoading)||!!(null===h||void 0===h?void 0:h.isApplyBtnDisabled)})]})]})})}L.displayName="TraceVisualizationContainer";var W=i.a.memo(B(L));t.default=W},477:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(92);function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"value",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"label",r=e.find((function(e){return a.a.isEqual(e[n],t)}));return r?r[i]:""}},505:function(e,t,n){"use strict";var a=n(92),i=n(138);t.a=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],l=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(null===t)return[];var c=Object.keys(t).map((function(e){return{prefixedKey:r?"".concat(r,".").concat(e):e,key:e}})),u=o?c.reduce((function(e,t){var r=t.prefixedKey,o=t.key,c=Object(i.e)(n,r);return("object"!==typeof c||a.a.isNil(c)||a.a.isArray(c))&&(l?e.push(r.slice(0,r.indexOf(".".concat(o)))):e.push(r)),e}),[]):Object.keys(t).filter((function(e){return!a.a.isObject(t[e])||a.a.isNil(t[e])||a.a.isArray(t[e])})).map((function(e){return e}));return c.forEach((function(t){var r=t.prefixedKey,o=Object(i.e)(n,r);"object"!==typeof o||a.a.isNil(o)||Array.isArray(o)||(u=u.concat(e(o,n,r,!0,l)))})),u}},516:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(92);function i(e){var t=e.params,n=e.runProps,i=void 0===n?[]:n,r=e.contexts,o=void 0===r?[]:r,l=e.sequenceName,c=void 0===l?null:l,u=[{group:"run",label:"run.hash",value:"run.hash"}];if(null===i||void 0===i?void 0:i.length){var s=["notes","tags","experiment.id"],d={"experiment.name":"experiment"},p=i.filter((function(e){return-1===s.indexOf(e)})).map((function(e){var t=e;return d.hasOwnProperty(e)&&(t=d[e]),{group:"run",label:"run.".concat(t),value:"run.props.".concat(e)}}));u=u.concat(p)}if(null===t||void 0===t?void 0:t.length){var v=t.map((function(e){return{group:"run",label:"run.".concat(e),value:"run.params.".concat(e)}}));u=u.concat(v)}if(c){var f=o.map((function(e){return{group:c,label:"".concat(c,".context.").concat(e),value:"context.".concat(e)}})),b={group:c,label:"".concat(c,".name"),value:"name"},g={group:c,label:"".concat(c,".context"),value:"context"};u=a.a.isEmpty(o)?u.concat(b):u.concat(b,g,f)}if("images"===c){u=u.concat([{group:"record",label:"record.step",value:"step"},{group:"record",label:"record.index",value:"index"}])}return u}},722:function(e,t,n){},723:function(e,t,n){},725:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(30),i=n(92),r=n(225),o=n(477);function l(e){var t=e.data,n=e.groupingSelectOptions,l=e.model,c=e.defaultGroupFields;if(!i.a.isEmpty(t)){var u,s=null===l||void 0===l?void 0:l.getState(),d=null===s||void 0===s?void 0:s.config,p=null===d||void 0===d?void 0:d.grouping,v={},f=Object(a.a)((null===p||void 0===p?void 0:p.group)||[]),b=c||((null===p||void 0===p||null===(u=p.reverseMode)||void 0===u?void 0:u.group)?n.filter((function(e){return!f.includes(e.label)})).map((function(e){return e.value})):f),g={};return t.forEach((function(e){var t=null===b||void 0===b?void 0:b.reduce((function(t,l,c){var u=i.a.get(e.data[0],l);return i.a.set(g,t.concat(["ordering"]),new Set([].concat(Object(a.a)(i.a.get(g,t.concat(["ordering"]))||[]),[u]))),i.a.set(g,t.concat(["key"]),Object(o.a)(n,l)),i.a.set(g,t.concat(["orderKey"]),l),t.push("".concat(Object(o.a)(n,l)," = ").concat(Object(r.a)(u))),t}),[]);i.a.set(v,t,i.a.sortBy(e.data,[].concat(Object(a.a)(b),Object(a.a)(n.map((function(e){return e.value})).filter((function(e){return!b.includes(e)}))),["caption"])))})),{mediaSetData:i.a.isEmpty(v)?t[0].data:v,orderedMap:g}}return{}}},741:function(e,t,n){"use strict";var a=n(0),i=n.n(a),r=n(92),o=n(451),l=n(4),c=n(9),u=(n(722),n(1));function s(e){var t=e.sliderTitle,n=e.countInputTitle,a=e.selectedRangeValue,i=e.selectedCountValue,r=e.onSearch,s=e.onCountChange,d=e.onRangeChange,p=e.min,v=e.max,f=e.sliderTitleTooltip,b=e.countTitleTooltip,g=e.sliderType,m=void 0===g?"range":g,h=e.inputValidationPatterns;return Object(u.jsx)(c.a,{children:Object(u.jsxs)("div",{className:"SliderWithInput",children:[Object(u.jsxs)("div",{className:"SliderWithInput__sliderWrapper",children:[Object(u.jsxs)("div",{className:"SliderWithInput__sliderWrapper__sliderTitleBox",children:[f?Object(u.jsx)(o.a,{title:f,children:Object(u.jsxs)("span",{className:"SliderWithInput__sliderWrapper__title",children:[t,":"]})}):Object(u.jsxs)("span",{className:"SliderWithInput__sliderWrapper__title",children:[t,":"]}),Object(u.jsx)(l.l,{size:10,weight:600,tint:80,className:"SliderWithInput__sliderWrapper__sliderValuesLabel",children:"".concat(a[0]," - ").concat(a[1])})]}),"single"===m?Object(u.jsx)(l.j,{value:i,onChange:function(e,t){s(t)},getAriaValueText:function(e){return"".concat(e)},"aria-labelledby":"track-false-slider",track:!1,min:a[0],max:a[1],valueLabelDisplay:"auto"}):Object(u.jsx)(l.j,{value:a,onChange:function(e,t){return d(t)},min:p,max:v,valueLabelDisplay:"auto",getAriaValueText:function(e){return"".concat(e)},onKeyPress:function(e){13===e.which&&r()}})]}),Object(u.jsx)("div",{className:"SliderWithInput__densityWrapper",children:Object(u.jsx)(l.g,{value:"".concat(i),type:"number",labelAppearance:"top-labeled",size:"small",label:n,topLabeledIconName:"circle-question",labelHelperText:b,placeholder:n,showMessageByTooltip:!0,isValidateInitially:!0,onChange:function(e,t,n){s(t,n)},validationPatterns:null!==h&&void 0!==h?h:[]})})]})})}s.displayName="SliderWithInput";var d=i.a.memo(s);n(723);function p(e){var t=e.onApply,n=e.applyButtonDisabled,a=e.onRangeSliderChange,o=e.onInputChange,c=e.items;return Object(u.jsx)("form",{className:"RangePanel",onSubmit:function(e){e.preventDefault(),t()},children:Object(u.jsxs)("div",{className:"RangePanelContainer",children:[null===c||void 0===c?void 0:c.map((function(e){var n,c,s,p,v,f,b,g,m,h=r.a.range(null!==(n=null===(c=e.rangeEndpoints)||void 0===c?void 0:c[0])&&void 0!==n?n:0,(null!==(s=null===(p=e.rangeEndpoints)||void 0===p?void 0:p[1])&&void 0!==s?s:0)+1).length;return Object(u.jsxs)(i.a.Fragment,{children:[(null===(v=e.rangeEndpoints)||void 0===v?void 0:v[0])!==(null===(f=e.rangeEndpoints)||void 0===f?void 0:f[1])?Object(u.jsx)(d,{sliderType:null===e||void 0===e?void 0:e.sliderType,sliderTitle:e.sliderTitle,countInputTitle:e.inputTitle,countTitleTooltip:e.inputTitleTooltip,sliderTitleTooltip:e.sliderTitleTooltip,min:null===(b=e.rangeEndpoints)||void 0===b?void 0:b[0],max:null===(g=e.rangeEndpoints)||void 0===g?void 0:g[1],selectedRangeValue:e.selectedRangeValue,selectedCountValue:e.inputValue,onSearch:t,onRangeChange:function(t){return a(e.sliderName,t)},onCountChange:function(t,n){o(e.inputName,t,n)},inputValidationPatterns:null!==(m=null===e||void 0===e?void 0:e.inputValidationPatterns)&&void 0!==m?m:[{errorCondition:function(e){return+e<=0},errorText:"Value should be greater then ".concat(0)},{errorCondition:function(e){return+e>h},errorText:"Value should be smaller then ".concat(h+1)}]}):Object(u.jsxs)("div",{className:"InfoMassageBox",children:[Object(u.jsx)(l.f,{name:"circle-info",color:"#1473E6"}),Object(u.jsxs)(l.l,{size:11,tint:80,weight:500,children:["You have only",Object(u.jsxs)(l.l,{size:11,tint:80,weight:600,className:"InfoMessageBoldText",children:["1 ",(null===e||void 0===e?void 0:e.infoPropertyName)||"step"]}),"logged."]})]}),Object(u.jsx)("div",{className:"VerticalDivider"})]},e.sliderName)})),Object(u.jsx)("div",{className:"ApplyButtonContainer",children:Object(u.jsx)(l.c,{size:"small",color:"primary",variant:"contained",type:"submit",className:"ApplyButton",disabled:n,children:"Apply"})})]})})}p.displayName="RangePanel";var v=i.a.memo(p);t.a=v},871:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return b})),n.d(t,"c",(function(){return g})),n.d(t,"e",(function(){return m})),n.d(t,"h",(function(){return h})),n.d(t,"f",(function(){return y})),n.d(t,"d",(function(){return j})),n.d(t,"i",(function(){return x})),n.d(t,"g",(function(){return T})),n.d(t,"a",(function(){return N}));var a=n(3),i=n(30),r=n(556),o=n.n(r),l=n(92),c=n(470),u=n(476),s=n(465),d=n(505),p=n(725),v=n(138),f=n(516);function b(e,t){for(var n="",a="",i={},r=0;r<e.length;r++)t.includes(n)?a+=e[r]:n+=e[r];return n=o.a.decode(n).toString(),a&&(i=JSON.parse(o.a.decode(a.substring(1,a.length)).toString())),{name:n,context:i}}function g(t,n){var a=N[t],r="",l="",s=function(t){var n=[],a=[],r=Object(u.a)({orderBy:"name",additionalCompare:function(e,t){return"EMPTY CONTEXT"===t?0:null}});return t.forEach((function(t){var l=o.a.encode(e.from("".concat(t.name))),u={name:t.name,id:l};if(t.context)if(Object.keys(t.context).length){var s=[],d={name:"".concat(Object(c.a)(t.context)),id:o.a.encode(e.from(JSON.stringify(t.context)))};s.push(d),u.children=s}else u.children=[{name:"empty context",id:o.a.encode(e.from(JSON.stringify({})))}];n.includes(l)?a.forEach((function(e,t){if(e.id===l){var n=a[t].children||[],o=u.children||[];a[t].children=[].concat(Object(i.a)(o),Object(i.a)(n)).sort(r),a[t].children.length||delete a[t].children}})):(a.push(u),n.push(l))})),a.sort(r),{availableIds:n,data:a}}(n),d=s.data,p=s.availableIds;return d[0].children&&d[0].children.length?(r=d[0].id+"."+d[0].children[0].id,l=d[0].children[0].name):(r=d[0].id+"",l=d[0].name),{data:d,defaultActiveKey:r,availableIds:p,title:a,defaultActiveName:l}}function m(e){var t=e.record_range_total,n=e.iters,r=e.values,o=[],l=[];return r&&r.forEach((function(e){for(var t=Object(i.a)(Object(v.b)(e.data.blob)),n=[],r=e.range[0],c=(e.range[1]-r)/e.bin_count,u=0;u<=e.bin_count;u++)n.push(r+u*c);o.push([t,n]),l.push(Object(a.a)(Object(a.a)({},e),{},{data:{blob:t}}))})),{iters:n,record_range:[null===t||void 0===t?void 0:t[0],((null===t||void 0===t?void 0:t[1])||0)-1],processedValues:o,originalValues:l,processedDataType:N.distributions}}function h(e){var t=e.record_range_total,n=e.index_range_total,a=e.iters,i=e.values,r=[];if(i){var o=0;i.forEach((function(e,t){e.forEach((function(e){r.push({step:null===a||void 0===a?void 0:a[t],index:e.index,text:e.data,key:o}),o++}))}))}return{iters:a,record_range:[null===t||void 0===t?void 0:t[0],((null===t||void 0===t?void 0:t[1])||0)-1],index_range:[null===n||void 0===n?void 0:n[0],((null===n||void 0===n?void 0:n[1])||0)-1],processedValues:l.a.orderBy(r,["step"],["desc"]),processedDataType:N.texts}}function y(e,t){var n=e.record_range_total,i=e.iters,r=e.values,o=e.index_range_total,c=e.context,u=e.name,v=t?Object(f.a)({params:Object(d.a)(t,t)}):[],b=[];null===r||void 0===r||r.forEach((function(e,t){e.forEach((function(e){var n=Object(s.b)({name:u,traceContext:c,index:e.index,step:null===i||void 0===i?void 0:i[t],caption:e.caption}),r=Object(s.b)({name:u,traceContext:c});b.push(Object(a.a)(Object(a.a)({},e),{},{name:u,step:null===i||void 0===i?void 0:i[t],context:c,key:n,seqKey:r}))}))}));var g=Object(p.a)({data:O(l.a.orderBy(b)),groupingSelectOptions:v,defaultGroupFields:["step"]});return{imageSetData:g.mediaSetData,orderedMap:g.orderedMap,record_range:[null===n||void 0===n?void 0:n[0],((null===n||void 0===n?void 0:n[1])||0)-1],index_range:[null===o||void 0===o?void 0:o[0],((null===o||void 0===o?void 0:o[1])||0)-1],processedDataType:N.images}}function j(e,t){var n=e.record_range_total,i=e.iters,r=e.values,o=e.index_range_total,c=e.context,u=e.name,v=t?Object(f.a)({params:Object(d.a)(t,t)}):[],b=[];null===r||void 0===r||r.forEach((function(e,t){e.forEach((function(e){var n=Object(s.b)({name:u,traceContext:c,index:e.index,step:null===i||void 0===i?void 0:i[t],caption:e.caption}),r=Object(s.b)({name:u,traceContext:c});b.push(Object(a.a)(Object(a.a)({},e),{},{audio_name:u,step:null===i||void 0===i?void 0:i[t],context:c,key:n,seqKey:r}))}))}));var g=Object(p.a)({data:O(l.a.orderBy(b)),groupingSelectOptions:v,defaultGroupFields:["step"]});return{audiosSetData:g.mediaSetData,orderedMap:g.orderedMap,record_range:[null===n||void 0===n?void 0:n[0],((null===n||void 0===n?void 0:n[1])||0)-1],index_range:[null===o||void 0===o?void 0:o[0],((null===o||void 0===o?void 0:o[1])||0)-1],processedDataType:N.audios}}function O(e){for(var t={},n=function(n){var a={};["step"].forEach((function(t){a[t]=Object(v.e)(e[n],t)}));var i=Object(s.b)(a);t.hasOwnProperty(i)?t[i].data.push(e[n]):t[i]={key:i,config:a,data:[e[n]]}},a=0;a<e.length;a++)n(a);return Object.values(t)}function x(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={};return Object.keys(e).forEach((function(n){var a=e[n];t[n]="".concat(a[0],":").concat(a[1]+1)})),t}function T(e){var t,n,a=e.record_range_total,i=e.iters,r=e.values,o=null,c=null;(null===(t=l.a.head(r))||void 0===t?void 0:t.data)?(c=r,(o=JSON.parse(null===(n=l.a.head(r))||void 0===n?void 0:n.data)).layout.autosize=!0):(o={},c=[]);return{iters:i,record_range:[null===a||void 0===a?void 0:a[0],((null===a||void 0===a?void 0:a[1])||0)-1],processedValue:o,originalValues:c,processedDataType:N.figures}}var N={images:"Images",distributions:"Distributions",audios:"Audios",videos:"Videos",texts:"Texts",figures:"Plotly"}}).call(this,n(482).Buffer)}}]);
//# sourceMappingURL=TraceVisualizationContainer.js.map?version=cc127af32eba89b63058