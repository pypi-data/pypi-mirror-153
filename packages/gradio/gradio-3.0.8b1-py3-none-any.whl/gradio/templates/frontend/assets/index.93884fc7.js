import{S as Pe,i as ze,s as Ee,d as O,ag as te,v as qe,ab as Z,R as ne,T as Ae,B as C,C as D,l as I,D as z,E as B,F as N,I as x,w as U,q as Be,e as q,U as Oe,V as Ue,G as le,H as oe,g as A,o as H,h as M,b as p,N as j,c as G,t as v,f as E,u as se,r as Ve,n as ie,ak as Qe}from"./index.558a6aca.js";import{B as re}from"./Block.bc1002ab.js";import{B as ae}from"./BlockLabel.b30b3275.js";import{M as ce}from"./ModifyUpload.7e9cb239.js";import{I as X}from"./Image.f29017be.js";import"./styles.d87a390f.js";const P="src/components/Gallery/Gallery.svelte";function $(n,t,e){const o=n.slice();return o[27]=t[e],o[29]=e,o}function ee(n,t,e){const o=n.slice();return o[27]=t[e],o[30]=t,o[29]=e,o}function ue(n){let t,e,o,c,u,a,i=n[7]!==null&&T(n),g=n[5];H(g);let _=[];for(let f=0;f<g.length;f+=1)_[f]=K($(n,g,f));let d=null;g.length||(d=J(n));const w={c:function(){i&&i.c(),t=U(),e=M("div"),o=M("div");for(let h=0;h<_.length;h+=1)_[h].c();d&&d.c(),p(o,"class",c="grid gap-2 "+n[13]+" s-QzgPMAMVqUOn"),v(o,"pt-6",n[1]),G(o,P,121,3,3875),p(e,"class","overflow-y-auto h-full p-2 s-QzgPMAMVqUOn"),te(()=>n[23].call(e)),v(e,"min-h-[350px]",n[6].height!=="auto"),v(e,"max-h-[55vh]",n[6].height!=="auto"),v(e,"xl:min-h-[450px]",n[6].height!=="auto"),G(e,P,114,2,3646)},m:function(h,m){i&&i.m(h,m),q(h,t,m),q(h,e,m),E(e,o);for(let s=0;s<_.length;s+=1)_[s].m(o,null);d&&d.m(o,null),u=Qe(e,n[23].bind(e)),a=!0},p:function(h,m){if(h[7]!==null?i?(i.p(h,m),m[0]&128&&z(i,1)):(i=T(h),i.c(),z(i,1),i.m(t.parentNode,t)):i&&(le(),B(i,1,1,()=>{i=null}),oe()),m[0]&4256){g=h[5],H(g);let s;for(s=0;s<g.length;s+=1){const r=$(h,g,s);_[s]?_[s].p(r,m):(_[s]=K(r),_[s].c(),_[s].m(o,null))}for(;s<_.length;s+=1)_[s].d(1);_.length=g.length,!g.length&&d?d.p(h,m):g.length?d&&(d.d(1),d=null):(d=J(h),d.c(),d.m(o,null))}(!a||m[0]&8192&&c!==(c="grid gap-2 "+h[13]+" s-QzgPMAMVqUOn"))&&p(o,"class",c),m[0]&8194&&v(o,"pt-6",h[1]),m[0]&64&&v(e,"min-h-[350px]",h[6].height!=="auto"),m[0]&64&&v(e,"max-h-[55vh]",h[6].height!=="auto"),m[0]&64&&v(e,"xl:min-h-[450px]",h[6].height!=="auto")},i:function(h){a||(z(i),a=!0)},o:function(h){B(i),a=!1},d:function(h){i&&i.d(h),h&&A(t),h&&A(e),se(_,h),d&&d.d(),u()}};return O("SvelteRegisterBlock",{block:w,id:ue.name,type:"else",source:"(73:1) {:else}",ctx:n}),w}function fe(n){let t,e,o,c;o=new X({$$inline:!0});const u={c:function(){t=M("div"),e=M("div"),C(o.$$.fragment),p(e,"class","h-5 dark:text-white opacity-50 s-QzgPMAMVqUOn"),G(e,P,70,3,2316),p(t,"class","h-full min-h-[15rem] flex justify-center items-center s-QzgPMAMVqUOn"),G(t,P,69,2,2245)},m:function(i,g){q(i,t,g),E(t,e),D(o,e,null),c=!0},p:ie,i:function(i){c||(z(o.$$.fragment,i),c=!0)},o:function(i){B(o.$$.fragment,i),c=!1},d:function(i){i&&A(t),N(o)}};return O("SvelteRegisterBlock",{block:u,id:fe.name,type:"if",source:"(69:1) {#if value === null}",ctx:n}),u}function T(n){let t,e,o,c,u,a,i,g,_,d;e=new ce({$$inline:!0}),e.$on("clear",n[17]);let w=n[5];H(w);let f=[];for(let m=0;m<w.length;m+=1)f[m]=F(ee(n,w,m));const h={c:function(){t=M("div"),C(e.$$.fragment),o=U(),c=M("img"),a=U(),i=M("div");for(let s=0;s<f.length;s+=1)f[s].c();p(c,"class","w-full object-contain h-[calc(100%-50px)] s-QzgPMAMVqUOn"),j(c.src,u=n[5][n[7]])||p(c,"src",u),p(c,"alt",""),G(c,P,83,4,2784),p(i,"class","absolute h-[60px] bg-white dark:bg-gray-900 overflow-x-scroll scroll-hide w-full bottom-0 flex gap-1.5 items-center py-2 text-sm px-3 justify-center s-QzgPMAMVqUOn"),G(i,P,90,4,2947),p(t,"class","absolute inset-0 z-10 flex flex-col bg-white/90 dark:bg-gray-900 backdrop-blur h-full s-QzgPMAMVqUOn"),v(t,"min-h-[350px]",n[6].height!=="auto"),v(t,"max-h-[55vh]",n[6].height!=="auto"),v(t,"xl:min-h-[450px]",n[6].height!=="auto"),G(t,P,74,3,2429)},m:function(s,r){q(s,t,r),D(e,t,null),E(t,o),E(t,c),E(t,a),E(t,i);for(let b=0;b<f.length;b+=1)f[b].m(i,null);n[21](i),g=!0,_||(d=[I(c,"click",n[18],!1,!1,!1),I(t,"keydown",n[15],!1,!1,!1)],_=!0)},p:function(s,r){if((!g||r[0]&160&&!j(c.src,u=s[5][s[7]]))&&p(c,"src",u),r[0]&1184){w=s[5],H(w);let b;for(b=0;b<w.length;b+=1){const y=ee(s,w,b);f[b]?f[b].p(y,r):(f[b]=F(y),f[b].c(),f[b].m(i,null))}for(;b<f.length;b+=1)f[b].d(1);f.length=w.length}r[0]&64&&v(t,"min-h-[350px]",s[6].height!=="auto"),r[0]&64&&v(t,"max-h-[55vh]",s[6].height!=="auto"),r[0]&64&&v(t,"xl:min-h-[450px]",s[6].height!=="auto")},i:function(s){g||(z(e.$$.fragment,s),g=!0)},o:function(s){B(e.$$.fragment,s),g=!1},d:function(s){s&&A(t),N(e),se(f,s),n[21](null),_=!1,Ve(d)}};return O("SvelteRegisterBlock",{block:h,id:T.name,type:"if",source:"(74:2) {#if selected_image !== null}",ctx:n}),h}function F(n){let t,e,o,c,u,a=n[29],i,g;const _=()=>n[19](t,a),d=()=>n[19](null,a);function w(){return n[20](n[29])}const f={c:function(){t=M("button"),e=M("img"),c=U(),p(e,"alt",""),p(e,"class","h-full w-full overflow-hidden object-contain s-QzgPMAMVqUOn"),j(e.src,o=n[27])||p(e,"src",o),G(e,P,103,7,3474),p(t,"class",u="gallery-item !flex-none !h-9 !w-9 transition-all duration-75 "+(n[7]===n[29]?"!ring-2 !ring-orange-500 hover:!ring-orange-500":"scale-90 transform")+" s-QzgPMAMVqUOn"),G(t,P,95,6,3184)},m:function(m,s){q(m,t,s),E(t,e),E(t,c),_(),i||(g=I(t,"click",w,!1,!1,!1),i=!0)},p:function(m,s){n=m,s[0]&32&&!j(e.src,o=n[27])&&p(e,"src",o),s[0]&128&&u!==(u="gallery-item !flex-none !h-9 !w-9 transition-all duration-75 "+(n[7]===n[29]?"!ring-2 !ring-orange-500 hover:!ring-orange-500":"scale-90 transform")+" s-QzgPMAMVqUOn")&&p(t,"class",u),a!==n[29]&&(d(),a=n[29],_())},d:function(m){m&&A(t),d(),i=!1,g()}};return O("SvelteRegisterBlock",{block:f,id:F.name,type:"each",source:"(95:5) {#each value as image, i}",ctx:n}),f}function J(n){let t;const e={c:function(){t=M("p"),t.textContent="Empty",p(t,"class","s-QzgPMAMVqUOn"),G(t,P,134,5,4227)},m:function(c,u){q(c,t,u)},p:ie,d:function(c){c&&A(t)}};return O("SvelteRegisterBlock",{block:e,id:J.name,type:"else",source:"(134:4) {:else}",ctx:n}),e}function K(n){let t,e,o,c,u,a;function i(){return n[22](n[29])}const g={c:function(){t=M("button"),e=M("img"),c=U(),p(e,"alt",""),p(e,"class","h-full w-full overflow-hidden object-contain s-QzgPMAMVqUOn"),j(e.src,o=n[27])||p(e,"src",o),G(e,P,127,6,4088),p(t,"class","gallery-item s-QzgPMAMVqUOn"),G(t,P,123,5,3968)},m:function(d,w){q(d,t,w),E(t,e),E(t,c),u||(a=I(t,"click",i,!1,!1,!1),u=!0)},p:function(d,w){n=d,w[0]&32&&!j(e.src,o=n[27])&&p(e,"src",o)},d:function(d){d&&A(t),u=!1,a()}};return O("SvelteRegisterBlock",{block:g,id:K.name,type:"each",source:"(123:4) {#each value as image, i}",ctx:n}),g}function he(n){let t,e,o,c,u,a,i,g;const _=[n[0]];let d={};for(let s=0;s<_.length;s+=1)d=Ae(d,_[s]);t=new ne({props:d,$$inline:!0}),o=new ae({props:{show_label:n[1],Icon:X,label:n[2]||"Gallery"},$$inline:!0});const w=[fe,ue],f=[];function h(s,r){return s[5]===null?0:1}u=h(n),a=f[u]=w[u](n);const m={c:function(){C(t.$$.fragment),e=U(),C(o.$$.fragment),c=U(),a.c(),i=Be()},m:function(r,b){D(t,r,b),q(r,e,b),D(o,r,b),q(r,c,b),f[u].m(r,b),q(r,i,b),g=!0},p:function(r,b){const y=b[0]&1?Oe(_,[Ue(r[0])]):{};t.$set(y);const k={};b[0]&2&&(k.show_label=r[1]),b[0]&4&&(k.label=r[2]||"Gallery"),o.$set(k);let V=u;u=h(r),u===V?f[u].p(r,b):(le(),B(f[V],1,1,()=>{f[V]=null}),oe(),a=f[u],a?a.p(r,b):(a=f[u]=w[u](r),a.c()),z(a,1),a.m(i.parentNode,i))},i:function(r){g||(z(t.$$.fragment,r),z(o.$$.fragment,r),z(a),g=!0)},o:function(r){B(t.$$.fragment,r),B(o.$$.fragment,r),B(a),g=!1},d:function(r){N(t,r),r&&A(e),N(o,r),r&&A(c),f[u].d(r),r&&A(i)}};return O("SvelteRegisterBlock",{block:m,id:he.name,type:"slot",source:'(66:0) <Block variant=\\"solid\\" color=\\"grey\\" padding={false} {elem_id} {visible}>',ctx:n}),m}function W(n){let t,e,o,c;te(n[16]),t=new re({props:{variant:"solid",color:"grey",padding:!1,elem_id:n[3],visible:n[4],$$slots:{default:[he]},$$scope:{ctx:n}},$$inline:!0});const u={c:function(){C(t.$$.fragment)},l:function(i){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(i,g){D(t,i,g),e=!0,o||(c=I(window,"resize",n[16]),o=!0)},p:function(i,g){const _={};g[0]&8&&(_.elem_id=i[3]),g[0]&16&&(_.visible=i[4]),g[0]&32231|g[1]&1&&(_.$$scope={dirty:g,ctx:i}),t.$set(_)},i:function(i){e||(z(t.$$.fragment,i),e=!0)},o:function(i){B(t.$$.fragment,i),e=!1},d:function(i){N(t,i),o=!1,c()}};return O("SvelteRegisterBlock",{block:u,id:W.name,type:"component",source:"",ctx:n}),u}function Re(n,t,e){let o,c,u,a,{$$slots:i={},$$scope:g}=t;qe("Gallery",i,[]);let{loading_status:_}=t,{show_label:d}=t,{label:w}=t,{elem_id:f=""}=t,{visible:h=!0}=t,{value:m=null}=t,{style:s={}}=t,r=null;function b(l){switch(l.code){case"Escape":l.preventDefault(),e(7,r=null);break;case"ArrowLeft":l.preventDefault(),e(7,r=o);break;case"ArrowRight":l.preventDefault(),e(7,r=c);break}}let y=[],k;async function V(l){if(typeof l!="number")return;await Z(),y[l].focus();const{left:R,width:ke}=k.getBoundingClientRect(),{left:Me,width:Ge}=y[l].getBoundingClientRect(),Y=Me-R+Ge/2-ke/2+k.scrollLeft;k.scrollTo({left:Y<0?0:Y,behavior:"smooth"})}let L=["","sm:","md:","lg:","xl:","2xl:"],Q=0,S=0;const me=["loading_status","show_label","label","elem_id","visible","value","style"];Object.keys(t).forEach(l=>{!~me.indexOf(l)&&l.slice(0,2)!=="$$"&&l!=="slot"&&console.warn(`<Gallery> was created with unknown prop '${l}'`)});function ge(){e(9,S=window.innerHeight)}const _e=()=>e(7,r=null),de=()=>e(7,r=c);function be(l,R){x[l?"unshift":"push"](()=>{y[R]=l,e(10,y)})}const we=l=>e(7,r=l);function pe(l){x[l?"unshift":"push"](()=>{k=l,e(11,k)})}const ve=l=>e(7,r=a?l:r);function ye(){Q=this.clientHeight,e(8,Q)}return n.$$set=l=>{"loading_status"in l&&e(0,_=l.loading_status),"show_label"in l&&e(1,d=l.show_label),"label"in l&&e(2,w=l.label),"elem_id"in l&&e(3,f=l.elem_id),"visible"in l&&e(4,h=l.visible),"value"in l&&e(5,m=l.value),"style"in l&&e(6,s=l.style)},n.$capture_state=()=>({Block:re,BlockLabel:ae,ModifyUpload:ce,tick:Z,StatusTracker:ne,Image:X,loading_status:_,show_label:d,label:w,elem_id:f,visible:h,value:m,style:s,selected_image:r,on_keydown:b,el:y,container:k,scroll_to_img:V,grid_map:L,height:Q,window_height:S,can_zoom:a,grid:u,next:c,previous:o}),n.$inject_state=l=>{"loading_status"in l&&e(0,_=l.loading_status),"show_label"in l&&e(1,d=l.show_label),"label"in l&&e(2,w=l.label),"elem_id"in l&&e(3,f=l.elem_id),"visible"in l&&e(4,h=l.visible),"value"in l&&e(5,m=l.value),"style"in l&&e(6,s=l.style),"selected_image"in l&&e(7,r=l.selected_image),"el"in l&&e(10,y=l.el),"container"in l&&e(11,k=l.container),"grid_map"in l&&e(26,L=l.grid_map),"height"in l&&e(8,Q=l.height),"window_height"in l&&e(9,S=l.window_height),"can_zoom"in l&&e(12,a=l.can_zoom),"grid"in l&&e(13,u=l.grid),"next"in l&&e(14,c=l.next),"previous"in l&&(o=l.previous)},t&&"$$inject"in t&&n.$inject_state(t.$$inject),n.$$.update=()=>{n.$$.dirty[0]&160&&(o=((r??0)+(m?.length??0)-1)%(m?.length??0)),n.$$.dirty[0]&160&&e(14,c=((r??0)+1)%(m?.length??0)),n.$$.dirty[0]&128&&V(r),n.$$.dirty[0]&64&&e(13,u=s.grid?Array(6).fill(0).map((l,R)=>`${L[R]}grid-cols-${s.grid[R]||s.grid[s.grid.length-1]}`).join(" "):"grid-cols-3 md:grid-cols-4 lg:grid-cols-6"),n.$$.dirty[0]&768&&e(12,a=S>=Q)},[_,d,w,f,h,m,s,r,Q,S,y,k,a,u,c,b,ge,_e,de,be,we,pe,ve,ye]}class je extends Pe{constructor(t){super(t),ze(this,t,Re,W,Ee,{loading_status:0,show_label:1,label:2,elem_id:3,visible:4,value:5,style:6},null,[-1,-1]),O("SvelteRegisterComponent",{component:this,tagName:"Gallery",options:t,id:W.name});const{ctx:e}=this.$$,o=t.props||{};e[0]===void 0&&!("loading_status"in o)&&console.warn("<Gallery> was created without expected prop 'loading_status'"),e[1]===void 0&&!("show_label"in o)&&console.warn("<Gallery> was created without expected prop 'show_label'"),e[2]===void 0&&!("label"in o)&&console.warn("<Gallery> was created without expected prop 'label'")}get loading_status(){throw new Error("<Gallery>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set loading_status(t){throw new Error("<Gallery>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get show_label(){throw new Error("<Gallery>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set show_label(t){throw new Error("<Gallery>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get label(){throw new Error("<Gallery>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set label(t){throw new Error("<Gallery>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get elem_id(){throw new Error("<Gallery>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set elem_id(t){throw new Error("<Gallery>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get visible(){throw new Error("<Gallery>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set visible(t){throw new Error("<Gallery>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get value(){throw new Error("<Gallery>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set value(t){throw new Error("<Gallery>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get style(){throw new Error("<Gallery>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set style(t){throw new Error("<Gallery>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}var Te=je;const Fe=["static"];export{Te as Component,Fe as modes};
