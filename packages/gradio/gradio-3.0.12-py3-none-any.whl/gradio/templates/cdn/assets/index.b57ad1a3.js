import{S as qe,i as ze,s as He,d as N,v as Ke,h as j,b as w,t as T,c as A,e as q,aa as We,l as V,g as z,r as Ve,w as I,k as ae,f as R,m as Ye,n as ge,K as Xe,I as x,L as me,y as _e,ab as Y,a as ne,B as le,C as re,M as we,D as W,E as X,F as ie,o as ee,ac as te,G as Ee,ad as De,ae as Pe,H as Fe,T as Dt,R as ot,U as Pt,V as Ft}from"./index.075cb19a.js";import{g as xe}from"./styles.db46e346.js";import{U as st}from"./Upload.d9524ae9.js";import{d as $e}from"./dsv.7fe76a93.js";var et=Object.prototype.hasOwnProperty;function se(o,e){var t,s;if(o===e)return!0;if(o&&e&&(t=o.constructor)===e.constructor){if(t===Date)return o.getTime()===e.getTime();if(t===RegExp)return o.toString()===e.toString();if(t===Array){if((s=o.length)===e.length)for(;s--&&se(o[s],e[s]););return s===-1}if(!t||typeof o=="object"){s=0;for(t in o)if(et.call(o,t)&&++s&&!et.call(e,t)||!(t in e)||!se(o[t],e[t]))return!1;return Object.keys(e).length===s}}return o!==o&&e!==e}const lt="Users/aliabid/projects/gradio/ui/packages/table/src/EditableCell.svelte";function Te(o){let e,t,s;const r={c:function(){e=j("input"),w(e,"class","absolute outline-none inset-2 bg-transparent border-0 translate-x-px flex-1 "),w(e,"tabindex","-1"),T(e,"translate-x-px",!o[3]),T(e,"font-bold",o[3]),A(e,lt,7,1,123)},m:function(f,a){q(f,e,a),We(e,o[0]),o[7](e),t||(s=[V(e,"input",o[6]),V(e,"keydown",o[5],!1,!1,!1),V(e,"blur",Tt,!1,!1,!1)],t=!0)},p:function(f,a){a&1&&e.value!==f[0]&&We(e,f[0]),a&8&&T(e,"translate-x-px",!f[3]),a&8&&T(e,"font-bold",f[3])},d:function(f){f&&z(e),o[7](null),t=!1,Ve(s)}};return N("SvelteRegisterBlock",{block:r,id:Te.name,type:"if",source:"(7:0) {#if edit}",ctx:o}),r}function Ce(o){let e,t,s,r,u,f=o[2]&&Te(o);const a={c:function(){f&&f.c(),e=I(),t=j("span"),s=ae(o[0]),w(t,"tabindex","-1"),w(t,"role","button"),w(t,"class","p-2 outline-none border-0 flex-1"),T(t,"opacity-0",o[2]),T(t,"pointer-events-none",o[2]),A(t,lt,19,0,429)},l:function(c){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(c,h){f&&f.m(c,h),q(c,e,h),q(c,t,h),R(t,s),r||(u=V(t,"dblclick",o[4],!1,!1,!1),r=!0)},p:function(c,[h]){c[2]?f?f.p(c,h):(f=Te(c),f.c(),f.m(e.parentNode,e)):f&&(f.d(1),f=null),h&1&&Ye(s,c[0]),h&4&&T(t,"opacity-0",c[2]),h&4&&T(t,"pointer-events-none",c[2])},i:ge,o:ge,d:function(c){f&&f.d(c),c&&z(e),c&&z(t),r=!1,u()}};return N("SvelteRegisterBlock",{block:a,id:Ce.name,type:"component",source:"",ctx:o}),a}const Tt=({currentTarget:o})=>o.setAttribute("tabindex","-1");function Ct(o,e,t){let{$$slots:s={},$$scope:r}=e;Ke("EditableCell",s,[]);let{edit:u}=e,{value:f=""}=e,{el:a}=e,{header:d=!1}=e;const c=["edit","value","el","header"];Object.keys(e).forEach(i=>{!~c.indexOf(i)&&i.slice(0,2)!=="$$"&&i!=="slot"&&console.warn(`<EditableCell> was created with unknown prop '${i}'`)});function h(i){Xe.call(this,o,i)}function g(i){Xe.call(this,o,i)}function b(){f=this.value,t(0,f)}function v(i){x[i?"unshift":"push"](()=>{a=i,t(1,a)})}return o.$$set=i=>{"edit"in i&&t(2,u=i.edit),"value"in i&&t(0,f=i.value),"el"in i&&t(1,a=i.el),"header"in i&&t(3,d=i.header)},o.$capture_state=()=>({edit:u,value:f,el:a,header:d}),o.$inject_state=i=>{"edit"in i&&t(2,u=i.edit),"value"in i&&t(0,f=i.value),"el"in i&&t(1,a=i.el),"header"in i&&t(3,d=i.header)},e&&"$$inject"in e&&o.$inject_state(e.$$inject),[f,a,u,d,h,g,b,v]}class Ge extends qe{constructor(e){super(e),ze(this,e,Ct,Ce,He,{edit:2,value:0,el:1,header:3}),N("SvelteRegisterComponent",{component:this,tagName:"EditableCell",options:e,id:Ce.name});const{ctx:t}=this.$$,s=e.props||{};t[2]===void 0&&!("edit"in s)&&console.warn("<EditableCell> was created without expected prop 'edit'"),t[1]===void 0&&!("el"in s)&&console.warn("<EditableCell> was created without expected prop 'el'")}get edit(){throw new Error("<EditableCell>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set edit(e){throw new Error("<EditableCell>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get value(){throw new Error("<EditableCell>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set value(e){throw new Error("<EditableCell>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get el(){throw new Error("<EditableCell>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set el(e){throw new Error("<EditableCell>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get header(){throw new Error("<EditableCell>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set header(e){throw new Error("<EditableCell>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const S="Users/aliabid/projects/gradio/ui/packages/table/src/Table.svelte";function fe(o,e,t){const s=o.slice();return s[51]=e[t],s[53]=t,s}function de(o,e,t){const s=o.slice();return s[54]=e[t].value,s[55]=e[t].id,s[56]=e,s[57]=t,s}function he(o,e,t){const s=o.slice();return s[54]=e[t].value,s[55]=e[t].id,s[58]=e,s[53]=t,s}function Re(o){let e,t;const s={c:function(){e=j("p"),t=ae(o[0]),w(e,"class","text-gray-600 text-[0.855rem] mb-2 block dark:text-gray-200 relative z-40"),A(e,S,379,2,11325)},m:function(u,f){q(u,e,f),R(e,t)},p:function(u,f){f[0]&1&&Ye(t,u[0])},d:function(u){u&&z(e)}};return N("SvelteRegisterBlock",{block:s,id:Re.name,type:"if",source:"(379:1) {#if label && label.length !== 0}",ctx:o}),s}function Ae(o){let e,t;const s={c:function(){e=j("caption"),t=ae(o[0]),w(e,"class","sr-only"),A(e,S,402,5,11978)},m:function(u,f){q(u,e,f),R(e,t)},p:function(u,f){f[0]&1&&Ye(t,u[0])},d:function(u){u&&z(e)}};return N("SvelteRegisterBlock",{block:s,id:Ae.name,type:"if",source:"(402:4) {#if label && label.length !== 0}",ctx:o}),s}function Se(o,e){let t,s,r,u,f,a,d,c,h,g,b,v,i=e[55],p,m,P;function D(M){e[30](M,e[55])}function l(){return e[31](e[55])}let y={value:e[54],edit:e[11]===e[55],header:!0};e[8][e[55]].input!==void 0&&(y.el=e[8][e[55]].input),r=new Ge({props:y,$$inline:!0}),x.push(()=>me(r,"el",D)),r.$on("keydown",e[20]),r.$on("dblclick",l);function O(){return e[32](e[53])}const k=()=>e[33](t,i),B=()=>e[33](null,i),H={key:o,first:null,c:function(){t=j("th"),s=j("div"),le(r.$$.fragment),f=I(),a=j("div"),d=ne("svg"),c=ne("path"),g=I(),w(c,"d","M4.49999 0L8.3971 6.75H0.602875L4.49999 0Z"),A(c,S,447,11,13613),w(d,"width","1em"),w(d,"height","1em"),w(d,"class","fill-current text-[10px]"),w(d,"viewBox","0 0 9 7"),w(d,"fill","none"),w(d,"xmlns","http://www.w3.org/2000/svg"),A(d,S,439,10,13396),w(a,"class",h="flex flex-none items-center justify-center p-2 cursor-pointer leading-snug transform transition-all "+(e[10]!==e[53]?"text-gray-200 hover:text-gray-500":"text-orange-500")+" "+(e[10]===e[53]&&e[9]==="des"?"-scale-y-[1]":"")),T(a,"text-gray-200",e[10]!==e[53]),A(a,S,428,9,12959),w(s,"class","min-h-[2.3rem] flex outline-none"),A(s,S,418,8,12677),w(t,"class",b="p-0 relative focus-within:ring-1 ring-orange-500 ring-inset outline-none "+e[13]),w(t,"aria-sort",v=e[14](e[54],e[10],e[9])),T(t,"bg-orange-50",e[11]===e[55]),T(t,"dark:bg-transparent",e[11]===e[55]),T(t,"rounded-tl-lg",e[53]===0),T(t,"rounded-tr-lg",e[53]===e[6].length-1),A(t,S,409,7,12259),this.first=t},m:function(U,L){q(U,t,L),R(t,s),re(r,s,null),R(s,f),R(s,a),R(a,d),R(d,c),R(t,g),k(),p=!0,m||(P=V(a,"click",O,!1,!1,!1),m=!0)},p:function(U,L){e=U;const Z={};L[0]&64&&(Z.value=e[54]),L[0]&2112&&(Z.edit=e[11]===e[55]),!u&&L[0]&320&&(u=!0,Z.el=e[8][e[55]].input,we(()=>u=!1)),r.$set(Z),(!p||L[0]&1600&&h!==(h="flex flex-none items-center justify-center p-2 cursor-pointer leading-snug transform transition-all "+(e[10]!==e[53]?"text-gray-200 hover:text-gray-500":"text-orange-500")+" "+(e[10]===e[53]&&e[9]==="des"?"-scale-y-[1]":"")))&&w(a,"class",h),L[0]&1600&&T(a,"text-gray-200",e[10]!==e[53]),(!p||L[0]&8192&&b!==(b="p-0 relative focus-within:ring-1 ring-orange-500 ring-inset outline-none "+e[13]))&&w(t,"class",b),(!p||L[0]&1600&&v!==(v=e[14](e[54],e[10],e[9])))&&w(t,"aria-sort",v),i!==e[55]&&(B(),i=e[55],k()),L[0]&10304&&T(t,"bg-orange-50",e[11]===e[55]),L[0]&10304&&T(t,"dark:bg-transparent",e[11]===e[55]),L[0]&8256&&T(t,"rounded-tl-lg",e[53]===0),L[0]&8256&&T(t,"rounded-tr-lg",e[53]===e[6].length-1)},i:function(U){p||(W(r.$$.fragment,U),p=!0)},o:function(U){X(r.$$.fragment,U),p=!1},d:function(U){U&&z(t),ie(r),B(),m=!1,P()}};return N("SvelteRegisterBlock",{block:H,id:Se.name,type:"each",source:"(409:6) {#each _headers as { value, id }",ctx:e}),H}function Be(o,e){let t,s,r,u,f,a,d=e[55],c,h,g;function b(k){e[34](k,e[54],e[56],e[57])}function v(k){e[35](k,e[55])}let i={edit:e[4]===e[55]};e[54]!==void 0&&(i.value=e[54]),e[8][e[55]].input!==void 0&&(i.el=e[8][e[55]].input),r=new Ge({props:i,$$inline:!0}),x.push(()=>me(r,"value",b)),x.push(()=>me(r,"el",v));const p=()=>e[36](t,d),m=()=>e[36](null,d);function P(){return e[37](e[55])}function D(){return e[38](e[55])}function l(){return e[39](e[55])}function y(...k){return e[40](e[53],e[57],e[55],...k)}const O={key:o,first:null,c:function(){t=j("td"),s=j("div"),le(r.$$.fragment),w(s,"class","min-h-[2.3rem] h-full outline-none flex items-center"),T(s,"border-transparent",e[5]!==e[55]),A(s,S,471,9,14676),w(t,"tabindex","0"),w(t,"class",a="outline-none focus-within:ring-1 ring-orange-500 ring-inset focus-within:bg-orange-50 dark:focus-within:bg-gray-800 group-last:first:rounded-bl-lg group-last:last:rounded-br-lg relative "+e[13]),A(t,S,462,8,14188),this.first=t},m:function(B,H){q(B,t,H),R(t,s),re(r,s,null),p(),c=!0,h||(g=[V(t,"touchstart",P,{passive:!0},!1,!1),V(t,"click",D,!1,!1,!1),V(t,"dblclick",l,!1,!1,!1),V(t,"keydown",y,!1,!1,!1)],h=!0)},p:function(B,H){e=B;const M={};H[0]&144&&(M.edit=e[4]===e[55]),!u&&H[0]&128&&(u=!0,M.value=e[54],we(()=>u=!1)),!f&&H[0]&384&&(f=!0,M.el=e[8][e[55]].input,we(()=>f=!1)),r.$set(M),H[0]&160&&T(s,"border-transparent",e[5]!==e[55]),(!c||H[0]&8192&&a!==(a="outline-none focus-within:ring-1 ring-orange-500 ring-inset focus-within:bg-orange-50 dark:focus-within:bg-gray-800 group-last:first:rounded-bl-lg group-last:last:rounded-br-lg relative "+e[13]))&&w(t,"class",a),d!==e[55]&&(m(),d=e[55],p())},i:function(B){c||(W(r.$$.fragment,B),c=!0)},o:function(B){X(r.$$.fragment,B),c=!1},d:function(B){B&&z(t),ie(r),m(),h=!1,Ve(g)}};return N("SvelteRegisterBlock",{block:O,id:Be.name,type:"each",source:"(462:7) {#each row as { value, id }",ctx:e}),O}function je(o,e){let t,s=[],r=new Map,u,f,a=e[51];ee(a);const d=h=>h[55];te(e,a,de,d);for(let h=0;h<a.length;h+=1){let g=de(e,a,h),b=d(g);r.set(b,s[h]=Be(b,g))}const c={key:o,first:null,c:function(){t=j("tr");for(let g=0;g<s.length;g+=1)s[g].c();u=I(),w(t,"class","group border-b dark:border-gray-700 last:border-none divide-x dark:divide-gray-700 space-x-4 odd:bg-gray-50 dark:odd:bg-gray-900 group focus:bg-gradient-to-b focus:from-blue-100 dark:focus:from-blue-900 focus:to-blue-50 dark:focus:to-gray-900 focus:odd:bg-white"),A(t,S,458,6,13847),this.first=t},m:function(g,b){q(g,t,b);for(let v=0;v<s.length;v+=1)s[v].m(t,null);R(t,u),f=!0},p:function(g,b){e=g,b[0]&238e3&&(a=e[51],ee(a),Ee(),te(e,a,de,d),s=De(s,b,d,1,e,a,r,t,Pe,Be,u,de),Fe())},i:function(g){if(!f){for(let b=0;b<a.length;b+=1)W(s[b]);f=!0}},o:function(g){for(let b=0;b<s.length;b+=1)X(s[b]);f=!1},d:function(g){g&&z(t);for(let b=0;b<s.length;b+=1)s[b].d()}};return N("SvelteRegisterBlock",{block:c,id:je.name,type:"each",source:"(458:5) {#each data as row, i (row)}",ctx:e}),c}function rt(o){let e,t,s,r,u=[],f=new Map,a,d,c=[],h=new Map,g,b=o[0]&&o[0].length!==0&&Ae(o),v=o[6];ee(v);const i=D=>D[55];te(o,v,he,i);for(let D=0;D<v.length;D+=1){let l=he(o,v,D),y=i(l);f.set(y,u[D]=Se(y,l))}let p=o[7];ee(p);const m=D=>D[51];te(o,p,fe,m);for(let D=0;D<p.length;D+=1){let l=fe(o,p,D),y=m(l);h.set(y,c[D]=je(y,l))}const P={c:function(){e=j("table"),b&&b.c(),t=I(),s=j("thead"),r=j("tr");for(let l=0;l<u.length;l+=1)u[l].c();a=I(),d=j("tbody");for(let l=0;l<c.length;l+=1)c[l].c();w(r,"class","border-b dark:border-gray-700 divide-x dark:divide-gray-700 text-left"),A(r,S,405,5,12108),w(s,"class","sticky top-0 left-0 right-0 bg-white shadow-sm z-10"),A(s,S,404,4,12035),w(d,"class","overflow-y-scroll"),A(d,S,456,4,13773),w(e,"class","table-auto font-mono w-full text-gray-900 text-sm transition-opacity overflow-hidden"),T(e,"opacity-40",o[12]),A(e,S,397,3,11794)},m:function(l,y){q(l,e,y),b&&b.m(e,null),R(e,t),R(e,s),R(s,r);for(let O=0;O<u.length;O+=1)u[O].m(r,null);R(e,a),R(e,d);for(let O=0;O<c.length;O+=1)c[O].m(d,null);g=!0},p:function(l,y){l[0]&&l[0].length!==0?b?b.p(l,y):(b=Ae(l),b.c(),b.m(e,t)):b&&(b.d(1),b=null),y[0]&1863488&&(v=l[6],ee(v),Ee(),te(l,v,he,i),u=De(u,y,i,1,l,v,f,r,Pe,Se,null,he),Fe()),y[0]&238e3&&(p=l[7],ee(p),Ee(),te(l,p,fe,m),c=De(c,y,m,1,l,p,h,d,Pe,je,null,fe),Fe()),y[0]&4096&&T(e,"opacity-40",l[12])},i:function(l){if(!g){for(let y=0;y<v.length;y+=1)W(u[y]);for(let y=0;y<p.length;y+=1)W(c[y]);g=!0}},o:function(l){for(let y=0;y<u.length;y+=1)X(u[y]);for(let y=0;y<c.length;y+=1)X(c[y]);g=!1},d:function(l){l&&z(e),b&&b.d();for(let y=0;y<u.length;y+=1)u[y].d();for(let y=0;y<c.length;y+=1)c[y].d()}};return N("SvelteRegisterBlock",{block:P,id:rt.name,type:"slot",source:"(390:2) <Upload    flex={false}    center={false}    boundedheight={false}    click={false}    on:load={(e) => blob_to_string(data_uri_to_blob(e.detail.data))}    bind:dragging   >",ctx:o}),P}function Le(o){let e,t,s=o[2][1]==="dynamic"&&Oe(o),r=o[1][1]==="dynamic"&&Me(o);const u={c:function(){e=j("div"),s&&s.c(),t=I(),r&&r.c(),w(e,"class","flex justify-end space-x-1 pt-2 text-gray-800"),A(e,S,490,2,15077)},m:function(a,d){q(a,e,d),s&&s.m(e,null),R(e,t),r&&r.m(e,null)},p:function(a,d){a[2][1]==="dynamic"?s?s.p(a,d):(s=Oe(a),s.c(),s.m(e,t)):s&&(s.d(1),s=null),a[1][1]==="dynamic"?r?r.p(a,d):(r=Me(a),r.c(),r.m(e,null)):r&&(r.d(1),r=null)},d:function(a){a&&z(e),s&&s.d(),r&&r.d()}};return N("SvelteRegisterBlock",{block:u,id:Le.name,type:"if",source:"(490:1) {#if editable}",ctx:o}),u}function Oe(o){let e,t,s,r,u,f;const a={c:function(){e=j("button"),t=ne("svg"),s=ne("path"),r=ae("New row"),w(s,"fill","currentColor"),w(s,"d","M24.59 16.59L17 24.17V4h-2v20.17l-7.59-7.58L6 18l10 10l10-10l-1.41-1.41z"),A(s,S,503,7,15549),w(t,"xmlns","http://www.w3.org/2000/svg"),w(t,"xmlns:xlink","http://www.w3.org/1999/xlink"),w(t,"aria-hidden","true"),w(t,"role","img"),w(t,"class","mr-1 group-hover:text-orange-500"),w(t,"width","1em"),w(t,"height","1em"),w(t,"preserveAspectRatio","xMidYMid meet"),w(t,"viewBox","0 0 32 32"),A(t,S,493,6,15253),w(e,"class","!flex-none gr-button group"),A(e,S,492,4,15177)},m:function(c,h){q(c,e,h),R(e,t),R(t,s),R(e,r),u||(f=V(e,"click",o[43],!1,!1,!1),u=!0)},p:ge,d:function(c){c&&z(e),u=!1,f()}};return N("SvelteRegisterBlock",{block:a,id:Oe.name,type:"if",source:'(492:3) {#if row_count[1] === \\"dynamic\\"}',ctx:o}),a}function Me(o){let e,t,s,r,u,f;const a={c:function(){e=j("button"),t=ne("svg"),s=ne("path"),r=ae(`
					New column`),w(s,"fill","currentColor"),w(s,"d","m18 6l-1.43 1.393L24.15 15H4v2h20.15l-7.58 7.573L18 26l10-10L18 6z"),A(s,S,522,7,16121),w(t,"xmlns","http://www.w3.org/2000/svg"),w(t,"xmlns:xlink","http://www.w3.org/1999/xlink"),w(t,"aria-hidden","true"),w(t,"role","img"),w(t,"class","mr-1 group-hover:text-orange-500"),w(t,"width","1em"),w(t,"height","1em"),w(t,"preserveAspectRatio","xMidYMid meet"),w(t,"viewBox","0 0 32 32"),A(t,S,512,5,15825),w(e,"class","!flex-none gr-button group"),A(e,S,511,4,15757)},m:function(c,h){q(c,e,h),R(e,t),R(t,s),R(e,r),u||(f=V(e,"click",o[22],!1,!1,!1),u=!0)},p:ge,d:function(c){c&&z(e),u=!1,f()}};return N("SvelteRegisterBlock",{block:a,id:Me.name,type:"if",source:'(511:3) {#if col_count[1] === \\"dynamic\\"}',ctx:o}),a}function Ue(o){let e,t,s,r,u,f,a,d,c,h,g=o[0]&&o[0].length!==0&&Re(o);function b(m){o[41](m)}let v={flex:!1,center:!1,boundedheight:!1,click:!1,$$slots:{default:[rt]},$$scope:{ctx:o}};o[12]!==void 0&&(v.dragging=o[12]),r=new st({props:v,$$inline:!0}),x.push(()=>me(r,"dragging",b)),r.$on("load",o[42]);let i=o[3]&&Le(o);const p={c:function(){e=j("div"),g&&g.c(),t=I(),s=j("div"),le(r.$$.fragment),a=I(),i&&i.c(),w(s,"class",f="scroll-hide whitespace-nowrap overflow-hidden rounded-lg relative border transition-colors overflow-x-scroll "+o[13]),T(s,"border-green-400",o[12]),A(s,S,385,1,11443),T(e,"mt-6",o[0]&&o[0].length!==0),A(e,S,377,0,11241)},l:function(P){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(P,D){q(P,e,D),g&&g.m(e,null),R(e,t),R(e,s),re(r,s,null),R(e,a),i&&i.m(e,null),d=!0,c||(h=[V(window,"click",o[23],!1,!1,!1),V(window,"touchstart",o[23],!1,!1,!1)],c=!0)},p:function(P,D){P[0]&&P[0].length!==0?g?g.p(P,D):(g=Re(P),g.c(),g.m(e,t)):g&&(g.d(1),g=null);const l={};D[0]&16369|D[1]&268435456&&(l.$$scope={dirty:D,ctx:P}),!u&&D[0]&4096&&(u=!0,l.dragging=P[12],we(()=>u=!1)),r.$set(l),(!d||D[0]&8192&&f!==(f="scroll-hide whitespace-nowrap overflow-hidden rounded-lg relative border transition-colors overflow-x-scroll "+P[13]))&&w(s,"class",f),D[0]&12288&&T(s,"border-green-400",P[12]),P[3]?i?i.p(P,D):(i=Le(P),i.c(),i.m(e,null)):i&&(i.d(1),i=null),D[0]&1&&T(e,"mt-6",P[0]&&P[0].length!==0)},i:function(P){d||(W(r.$$.fragment,P),d=!0)},o:function(P){X(r.$$.fragment,P),d=!1},d:function(P){P&&z(e),g&&g.d(),ie(r),i&&i.d(),c=!1,Ve(h)}};return N("SvelteRegisterBlock",{block:p,id:Ue.name,type:"component",source:"",ctx:o}),p}function tt(o,e){return e.filter(t);function t(s){var r=-1;return o.split(`
`).every(u);function u(f){if(!f)return!0;var a=f.split(s).length;return r<0&&(r=a),r===a&&a>1}}}function nt(o){const e=atob(o.split(",")[1]),t=o.split(",")[0].split(":")[1].split(";")[0],s=new ArrayBuffer(e.length),r=new Uint8Array(s);for(let u=0;u<e.length;u++)r[u]=e.charCodeAt(u);return new Blob([s],{type:t})}function Rt(o,e,t){let s,{$$slots:r={},$$scope:u}=e;Ke("Table",r,[]);let{label:f=null}=e,{headers:a=[]}=e,{values:d=[[]]}=e,{col_count:c}=e,{row_count:h}=e,{editable:g=!0}=e,{style:b={}}=e;const v=_e();let i=!1,p=!1,m={};function P(n){let _=n||[];if(c[1]==="fixed"&&_.length<c[0]){const E=Array(c[0]-_.length).fill("").map((F,C)=>`${C+_.length}`);_=_.concat(E)}return!_||_.length===0?Array(c[0]).fill(0).map((E,F)=>{const C=`h-${F}`;return t(8,m[C]={cell:null,input:null},m),{id:C,value:JSON.stringify(F+1)}}):_.map((E,F)=>{const C=`h-${F}`;return t(8,m[C]={cell:null,input:null},m),{id:C,value:E??""}})}function D(n){const _=n.length>0?n.length:h[0];return Array(h[1]==="fixed"||_<h[0]?h[0]:_).fill(0).map((E,F)=>Array(c[1]==="fixed"?c[0]:n[0].length).fill(0).map((C,G)=>{const Q=`${F}-${G}`;return t(8,m[Q]={input:null,cell:null},m),{value:n?.[F]?.[G]??"",id:Q}}))}let l=P(a),y;async function O(){typeof i=="string"?(await Y(),m[i]?.input?.focus()):typeof p=="string"&&(await Y(),m[p]?.input?.focus())}let k=[[]],B;function H(n,_,E){if(!_)return"none";if(a[_]===n){if(E==="asc")return"ascending";if(E==="des")return"descending"}}function M(n){return k.reduce((_,E,F)=>{const C=E.reduce((G,Q,ke)=>n===Q.id?ke:G,-1);return C===-1?_:[F,C]},[-1,-1])}async function U(n,_){if(!g||i===n)return;if(_){const[F,C]=M(n);t(7,k[F][C].value="",k)}t(4,i=n),await Y();const{input:E}=m[n];E?.focus()}async function L(n,_,E,F){let C;switch(n.key){case"ArrowRight":if(i)break;n.preventDefault(),C=k[_][E+1],t(5,p=C?C.id:p);break;case"ArrowLeft":if(i)break;n.preventDefault(),C=k[_][E-1],t(5,p=C?C.id:p);break;case"ArrowDown":if(i)break;n.preventDefault(),C=k[_+1],t(5,p=C?C[E].id:p);break;case"ArrowUp":if(i)break;n.preventDefault(),C=k[_-1],t(5,p=C?C[E].id:p);break;case"Escape":if(!g)break;n.preventDefault(),t(5,p=i),t(4,i=!1);break;case"Enter":if(!g)break;if(n.preventDefault(),n.shiftKey){ue(_),await Y();const[Et]=M(F);t(5,p=k[Et+1][E].id)}else i===F?t(4,i=!1):U(F);break;case"Backspace":if(!g)break;i||(n.preventDefault(),t(7,k[_][E].value="",k));break;case"Delete":if(!g)break;i||(n.preventDefault(),t(7,k[_][E].value="",k));break;case"Tab":let G=n.shiftKey?-1:1,Q=k[_][E+G],ke=k?.[_+G]?.[G>0?0:l.length-1],ve=Q||ke;ve&&(n.preventDefault(),t(5,p=ve?ve.id:p)),t(4,i=!1);break;default:(!i||i&&i!==F)&&n.key.length===1&&U(F,!0);break}}async function Z(n){i!==n&&p!==n&&(t(4,i=!1),t(5,p=n))}async function be(n,_){if(_==="edit"&&typeof n=="string"&&(await Y(),m[n].input?.focus()),_==="edit"&&typeof n=="boolean"&&typeof p=="string"){let E=m[p]?.cell;await Y(),E?.focus()}if(_==="select"&&typeof n=="string"){const{cell:E}=m[n];await Y(),E?.focus()}}let J,$;function Ie(n,_){_==="asc"?t(7,k=k.sort((E,F)=>E[n].value<F[n].value?-1:1)):_==="des"&&t(7,k=k.sort((E,F)=>E[n].value>F[n].value?-1:1))}function pe(n){typeof $!="number"||$!==n?(t(9,J="asc"),t(10,$=n)):J==="asc"?t(9,J="des"):J==="des"&&t(9,J="asc"),Ie(n,J)}let K;async function ce(n,_){!g||c[1]!=="dynamic"||i===n||(t(11,K=n),await Y(),m[n].input?.focus(),_&&m[n].input?.select())}function Je(n){if(!!g)switch(n.key){case"Escape":n.preventDefault(),t(5,p=K),t(11,K=!1);break;case"Enter":n.preventDefault(),t(5,p=K),t(11,K=!1)}}function ue(n){h[1]==="dynamic"&&(k.splice(n?n+1:k.length,0,Array(k[0].length).fill(0).map((_,E)=>{const F=`${k.length}-${E}`;return t(8,m[F]={cell:null,input:null},m),{id:F,value:""}})),t(7,k),t(25,d),t(29,B))}async function Ze(){if(c[1]!=="dynamic")return;for(let _=0;_<k.length;_++){const E=`${_}-${k[_].length}`;t(8,m[E]={cell:null,input:null},m),k[_].push({id:E,value:""})}const n=`h-${l.length}`;t(8,m[n]={cell:null,input:null},m),l.push({id:n,value:`Header ${l.length+1}`}),t(7,k),t(25,d),t(29,B),t(6,l),t(26,a),t(28,y),await Y(),ce(n,!0)}function Qe(n){typeof i=="string"&&m[i]&&m[i].cell!==n.target&&!m[i].cell?.contains(n?.target)&&t(4,i=!1),typeof K=="string"&&m[K]&&m[K].cell!==n.target&&!m[K].cell?.contains(n.target)&&t(11,K=!1)}function ye(n){const _=new FileReader;function E(F){if(!F?.target?.result||typeof F.target.result!="string")return;const[C]=tt(F.target.result,[",","	"]),[G,...Q]=$e(C).parseRows(F.target.result);t(6,l=P(c[1]==="fixed"?G.slice(0,c[0]):G)),t(25,d=Q),_.removeEventListener("loadend",E)}_.addEventListener("loadend",E),_.readAsText(n)}let oe=!1;const at=["label","headers","values","col_count","row_count","editable","style"];Object.keys(e).forEach(n=>{!~at.indexOf(n)&&n.slice(0,2)!=="$$"&&n!=="slot"&&console.warn(`<Table> was created with unknown prop '${n}'`)});function ct(n,_){o.$$.not_equal(m[_].input,n)&&(m[_].input=n,t(8,m))}const ut=n=>ce(n),ft=n=>pe(n);function dt(n,_){x[n?"unshift":"push"](()=>{m[_].cell=n,t(8,m)})}function ht(n,_,E,F){E[F].value=n,t(7,k),t(25,d),t(29,B)}function gt(n,_){o.$$.not_equal(m[_].input,n)&&(m[_].input=n,t(8,m))}function mt(n,_){x[n?"unshift":"push"](()=>{m[_].cell=n,t(8,m)})}const _t=n=>U(n),wt=n=>Z(n),bt=n=>U(n),pt=(n,_,E,F)=>L(F,n,_,E);function yt(n){oe=n,t(12,oe)}const kt=n=>ye(nt(n.detail.data)),vt=()=>ue();return o.$$set=n=>{"label"in n&&t(0,f=n.label),"headers"in n&&t(26,a=n.headers),"values"in n&&t(25,d=n.values),"col_count"in n&&t(1,c=n.col_count),"row_count"in n&&t(2,h=n.row_count),"editable"in n&&t(3,g=n.editable),"style"in n&&t(27,b=n.style)},o.$capture_state=()=>({createEventDispatcher:_e,tick:Y,dsvFormat:$e,dequal:se,get_styles:xe,Upload:st,EditableCell:Ge,label:f,headers:a,values:d,col_count:c,row_count:h,editable:g,style:b,dispatch:v,editing:i,selected:p,els:m,make_headers:P,process_data:D,_headers:l,old_headers:y,refresh_focus:O,data:k,old_val:B,get_sort_status:H,get_current_indices:M,start_edit:U,handle_keydown:L,handle_cell_click:Z,set_focus:be,sort_direction:J,sort_by:$,sort:Ie,handle_sort:pe,header_edit:K,edit_header:ce,end_header_edit:Je,add_row:ue,add_col:Ze,handle_click_outside:Qe,guess_delimitaor:tt,data_uri_to_blob:nt,blob_to_string:ye,dragging:oe,classes:s}),o.$inject_state=n=>{"label"in n&&t(0,f=n.label),"headers"in n&&t(26,a=n.headers),"values"in n&&t(25,d=n.values),"col_count"in n&&t(1,c=n.col_count),"row_count"in n&&t(2,h=n.row_count),"editable"in n&&t(3,g=n.editable),"style"in n&&t(27,b=n.style),"editing"in n&&t(4,i=n.editing),"selected"in n&&t(5,p=n.selected),"els"in n&&t(8,m=n.els),"_headers"in n&&t(6,l=n._headers),"old_headers"in n&&t(28,y=n.old_headers),"data"in n&&t(7,k=n.data),"old_val"in n&&t(29,B=n.old_val),"sort_direction"in n&&t(9,J=n.sort_direction),"sort_by"in n&&t(10,$=n.sort_by),"header_edit"in n&&t(11,K=n.header_edit),"dragging"in n&&t(12,oe=n.dragging),"classes"in n&&t(13,s=n.classes)},e&&"$$inject"in e&&o.$inject_state(e.$$inject),o.$$.update=()=>{o.$$.dirty[0]&335544320&&(se(a,y)||(t(6,l=P(a)),t(28,y=a),O())),o.$$.dirty[0]&570425344&&(se(d,B)||(t(7,k=D(d)),t(29,B=d),O())),o.$$.dirty[0]&192&&l&&v("change",k.map(n=>n.map(({value:_})=>_))),o.$$.dirty[0]&16&&be(i,"edit"),o.$$.dirty[0]&32&&be(p,"select"),o.$$.dirty[0]&134217728&&t(13,{classes:s}=xe(b,["rounded"]),s)},[f,c,h,g,i,p,l,k,m,J,$,K,oe,s,H,U,L,Z,pe,ce,Je,ue,Ze,Qe,ye,d,a,b,y,B,ct,ut,ft,dt,ht,gt,mt,_t,wt,bt,pt,yt,kt,vt]}class it extends qe{constructor(e){super(e),ze(this,e,Rt,Ue,He,{label:0,headers:26,values:25,col_count:1,row_count:2,editable:3,style:27},null,[-1,-1]),N("SvelteRegisterComponent",{component:this,tagName:"Table",options:e,id:Ue.name});const{ctx:t}=this.$$,s=e.props||{};t[1]===void 0&&!("col_count"in s)&&console.warn("<Table> was created without expected prop 'col_count'"),t[2]===void 0&&!("row_count"in s)&&console.warn("<Table> was created without expected prop 'row_count'")}get label(){throw new Error("<Table>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set label(e){throw new Error("<Table>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get headers(){throw new Error("<Table>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set headers(e){throw new Error("<Table>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get values(){throw new Error("<Table>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set values(e){throw new Error("<Table>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get col_count(){throw new Error("<Table>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set col_count(e){throw new Error("<Table>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get row_count(){throw new Error("<Table>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set row_count(e){throw new Error("<Table>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get editable(){throw new Error("<Table>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set editable(e){throw new Error("<Table>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get style(){throw new Error("<Table>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set style(e){throw new Error("<Table>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const At="src/components/DataFrame/DataFrame.svelte";function Ne(o){let e,t,s,r,u;const f=[o[10]];let a={};for(let c=0;c<f.length;c+=1)a=Dt(a,f[c]);t=new ot({props:a,$$inline:!0}),r=new it({props:{label:o[9],row_count:o[6],col_count:o[5],values:o[1],headers:o[0],editable:o[4]==="dynamic",style:o[8]},$$inline:!0}),r.$on("change",o[11]);const d={c:function(){e=j("div"),le(t.$$.fragment),s=I(),le(r.$$.fragment),w(e,"id",o[2]),w(e,"class","relative overflow-hidden"),T(e,"hidden",o[3]===!1),T(e,"flex-1",o[7]==="row"||!o[7]),A(e,At,33,0,886)},l:function(h){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(h,g){q(h,e,g),re(t,e,null),R(e,s),re(r,e,null),u=!0},p:function(h,[g]){const b=g&1024?Pt(f,[Ft(h[10])]):{};t.$set(b);const v={};g&512&&(v.label=h[9]),g&64&&(v.row_count=h[6]),g&32&&(v.col_count=h[5]),g&2&&(v.values=h[1]),g&1&&(v.headers=h[0]),g&16&&(v.editable=h[4]==="dynamic"),g&256&&(v.style=h[8]),r.$set(v),(!u||g&4)&&w(e,"id",h[2]),g&8&&T(e,"hidden",h[3]===!1),g&128&&T(e,"flex-1",h[7]==="row"||!h[7])},i:function(h){u||(W(t.$$.fragment,h),W(r.$$.fragment,h),u=!0)},o:function(h){X(t.$$.fragment,h),X(r.$$.fragment,h),u=!1},d:function(h){h&&z(e),ie(t),ie(r)}};return N("SvelteRegisterBlock",{block:d,id:Ne.name,type:"component",source:"",ctx:o}),d}function St(o,e,t){let{$$slots:s={},$$scope:r}=e;Ke("DataFrame",s,[]);let{headers:u=[]}=e,{elem_id:f=""}=e,{visible:a=!0}=e,{value:d=[["","",""]]}=e,{mode:c}=e,{col_count:h}=e,{row_count:g}=e,{parent:b=null}=e,{style:v={}}=e,{label:i=null}=e;const p=_e();let{loading_status:m}=e;async function P({detail:l}){t(1,d=l),await Y(),p("change",l)}const D=["headers","elem_id","visible","value","mode","col_count","row_count","parent","style","label","loading_status"];return Object.keys(e).forEach(l=>{!~D.indexOf(l)&&l.slice(0,2)!=="$$"&&l!=="slot"&&console.warn(`<DataFrame> was created with unknown prop '${l}'`)}),o.$$set=l=>{"headers"in l&&t(0,u=l.headers),"elem_id"in l&&t(2,f=l.elem_id),"visible"in l&&t(3,a=l.visible),"value"in l&&t(1,d=l.value),"mode"in l&&t(4,c=l.mode),"col_count"in l&&t(5,h=l.col_count),"row_count"in l&&t(6,g=l.row_count),"parent"in l&&t(7,b=l.parent),"style"in l&&t(8,v=l.style),"label"in l&&t(9,i=l.label),"loading_status"in l&&t(10,m=l.loading_status)},o.$capture_state=()=>({Table:it,StatusTracker:ot,createEventDispatcher:_e,tick:Y,headers:u,elem_id:f,visible:a,value:d,mode:c,col_count:h,row_count:g,parent:b,style:v,label:i,dispatch:p,loading_status:m,handle_change:P}),o.$inject_state=l=>{"headers"in l&&t(0,u=l.headers),"elem_id"in l&&t(2,f=l.elem_id),"visible"in l&&t(3,a=l.visible),"value"in l&&t(1,d=l.value),"mode"in l&&t(4,c=l.mode),"col_count"in l&&t(5,h=l.col_count),"row_count"in l&&t(6,g=l.row_count),"parent"in l&&t(7,b=l.parent),"style"in l&&t(8,v=l.style),"label"in l&&t(9,i=l.label),"loading_status"in l&&t(10,m=l.loading_status)},e&&"$$inject"in e&&o.$inject_state(e.$$inject),o.$$.update=()=>{o.$$.dirty&3&&(Array.isArray(d)?(t(1,d),t(0,u)):(Array.isArray(d.headers)&&t(0,u=d.headers),t(1,d=d.data.length===0?[Array(u.length).fill("")]:d.data)))},[u,d,f,a,c,h,g,b,v,i,m,P]}class Bt extends qe{constructor(e){super(e),ze(this,e,St,Ne,He,{headers:0,elem_id:2,visible:3,value:1,mode:4,col_count:5,row_count:6,parent:7,style:8,label:9,loading_status:10}),N("SvelteRegisterComponent",{component:this,tagName:"DataFrame",options:e,id:Ne.name});const{ctx:t}=this.$$,s=e.props||{};t[4]===void 0&&!("mode"in s)&&console.warn("<DataFrame> was created without expected prop 'mode'"),t[5]===void 0&&!("col_count"in s)&&console.warn("<DataFrame> was created without expected prop 'col_count'"),t[6]===void 0&&!("row_count"in s)&&console.warn("<DataFrame> was created without expected prop 'row_count'"),t[10]===void 0&&!("loading_status"in s)&&console.warn("<DataFrame> was created without expected prop 'loading_status'")}get headers(){throw new Error("<DataFrame>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set headers(e){throw new Error("<DataFrame>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get elem_id(){throw new Error("<DataFrame>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set elem_id(e){throw new Error("<DataFrame>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get visible(){throw new Error("<DataFrame>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set visible(e){throw new Error("<DataFrame>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get value(){throw new Error("<DataFrame>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set value(e){throw new Error("<DataFrame>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get mode(){throw new Error("<DataFrame>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set mode(e){throw new Error("<DataFrame>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get col_count(){throw new Error("<DataFrame>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set col_count(e){throw new Error("<DataFrame>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get row_count(){throw new Error("<DataFrame>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set row_count(e){throw new Error("<DataFrame>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get parent(){throw new Error("<DataFrame>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set parent(e){throw new Error("<DataFrame>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get style(){throw new Error("<DataFrame>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set style(e){throw new Error("<DataFrame>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get label(){throw new Error("<DataFrame>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set label(e){throw new Error("<DataFrame>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get loading_status(){throw new Error("<DataFrame>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set loading_status(e){throw new Error("<DataFrame>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}var Ut=Bt;const Nt=["static","dynamic"];export{Ut as Component,Nt as modes};
