import{S as ze,i as Ee,s as qe,d as O,ag as oe,v as Be,ab as $,R as se,T as Ae,B as j,C,l as S,D as v,E,F as D,I as ee,w as U,q as Oe,e as B,U as Ue,V as Ve,G as H,H as L,g as A,o as N,h as G,b as p,N as Q,c as P,t as y,f as q,u as ie,r as Qe,n as re,ak as Re}from"./index.075cb19a.js";import{B as ae}from"./Block.ade65ad9.js";import{B as ce}from"./BlockLabel.d81f7377.js";import{M as ue}from"./ModifyUpload.e8a68579.js";import{g as te}from"./styles.db46e346.js";import{I as Y}from"./Image.68ea271b.js";const z="src/components/Gallery/Gallery.svelte";function ne(n,t,e){const s=n.slice();return s[26]=t[e],s[28]=e,s}function le(n,t,e){const s=n.slice();return s[26]=t[e],s[29]=t,s[28]=e,s}function T(n){let t,e;t=new ce({props:{show_label:n[1],Icon:Y,label:n[2]||"Gallery",disable:typeof n[6].container=="boolean"&&!n[6].container},$$inline:!0});const s={c:function(){j(t.$$.fragment)},m:function(a,f){C(t,a,f),e=!0},p:function(a,f){const o={};f&2&&(o.show_label=a[1]),f&4&&(o.label=a[2]||"Gallery"),f&64&&(o.disable=typeof a[6].container=="boolean"&&!a[6].container),t.$set(o)},i:function(a){e||(v(t.$$.fragment,a),e=!0)},o:function(a){E(t.$$.fragment,a),e=!1},d:function(a){D(t,a)}};return O("SvelteRegisterBlock",{block:s,id:T.name,type:"if",source:"(70:1) {#if show_label}",ctx:n}),s}function fe(n){let t,e,s,r,a,f,o=n[7]!==null&&F(n),d=n[5];N(d);let g=[];for(let h=0;h<d.length;h+=1)g[h]=W(ne(n,d,h));let u=null;d.length||(u=K(n));const w={c:function(){o&&o.c(),t=U(),e=G("div"),s=G("div");for(let m=0;m<g.length;m+=1)g[m].c();u&&u.c(),p(s,"class",r="grid gap-2 "+n[12]+" s-QzgPMAMVqUOn"),y(s,"pt-6",n[1]),P(s,z,130,3,3864),p(e,"class","overflow-y-auto h-full p-2 s-QzgPMAMVqUOn"),oe(()=>n[23].call(e)),y(e,"min-h-[350px]",n[6].height!=="auto"),y(e,"max-h-[55vh]",n[6].height!=="auto"),y(e,"xl:min-h-[450px]",n[6].height!=="auto"),P(e,z,123,2,3635)},m:function(m,_){o&&o.m(m,_),B(m,t,_),B(m,e,_),q(e,s);for(let i=0;i<g.length;i+=1)g[i].m(s,null);u&&u.m(s,null),a=Re(e,n[23].bind(e)),f=!0},p:function(m,_){if(m[7]!==null?o?(o.p(m,_),_&128&&v(o,1)):(o=F(m),o.c(),v(o,1),o.m(t.parentNode,t)):o&&(H(),E(o,1,1,()=>{o=null}),L()),_&8352){d=m[5],N(d);let i;for(i=0;i<d.length;i+=1){const c=ne(m,d,i);g[i]?g[i].p(c,_):(g[i]=W(c),g[i].c(),g[i].m(s,null))}for(;i<g.length;i+=1)g[i].d(1);g.length=d.length,!d.length&&u?u.p(m,_):d.length?u&&(u.d(1),u=null):(u=K(m),u.c(),u.m(s,null))}(!f||_&4096&&r!==(r="grid gap-2 "+m[12]+" s-QzgPMAMVqUOn"))&&p(s,"class",r),_&4098&&y(s,"pt-6",m[1]),_&64&&y(e,"min-h-[350px]",m[6].height!=="auto"),_&64&&y(e,"max-h-[55vh]",m[6].height!=="auto"),_&64&&y(e,"xl:min-h-[450px]",m[6].height!=="auto")},i:function(m){f||(v(o),f=!0)},o:function(m){E(o),f=!1},d:function(m){o&&o.d(m),m&&A(t),m&&A(e),ie(g,m),u&&u.d(),a()}};return O("SvelteRegisterBlock",{block:w,id:fe.name,type:"else",source:"(82:1) {:else}",ctx:n}),w}function he(n){let t,e,s,r;s=new Y({$$inline:!0});const a={c:function(){t=G("div"),e=G("div"),j(s.$$.fragment),p(e,"class","h-5 dark:text-white opacity-50 s-QzgPMAMVqUOn"),P(e,z,79,3,2305),p(t,"class","h-full min-h-[15rem] flex justify-center items-center s-QzgPMAMVqUOn"),P(t,z,78,2,2234)},m:function(o,d){B(o,t,d),q(t,e),C(s,e,null),r=!0},p:re,i:function(o){r||(v(s.$$.fragment,o),r=!0)},o:function(o){E(s.$$.fragment,o),r=!1},d:function(o){o&&A(t),D(s)}};return O("SvelteRegisterBlock",{block:a,id:he.name,type:"if",source:"(78:1) {#if value === null}",ctx:n}),a}function F(n){let t,e,s,r,a,f,o,d,g,u;e=new ue({$$inline:!0}),e.$on("clear",n[17]);let w=n[5];N(w);let h=[];for(let _=0;_<w.length;_+=1)h[_]=J(le(n,w,_));const m={c:function(){t=G("div"),j(e.$$.fragment),s=U(),r=G("img"),f=U(),o=G("div");for(let i=0;i<h.length;i+=1)h[i].c();p(r,"class","w-full object-contain h-[calc(100%-50px)] s-QzgPMAMVqUOn"),Q(r.src,a=n[5][n[7]])||p(r,"src",a),p(r,"alt",""),P(r,z,92,4,2773),p(o,"class","absolute h-[60px] bg-white dark:bg-gray-900 overflow-x-scroll scroll-hide w-full bottom-0 flex gap-1.5 items-center py-2 text-sm px-3 justify-center s-QzgPMAMVqUOn"),P(o,z,99,4,2936),p(t,"class","absolute inset-0 z-10 flex flex-col bg-white/90 dark:bg-gray-900 backdrop-blur h-full s-QzgPMAMVqUOn"),y(t,"min-h-[350px]",n[6].height!=="auto"),y(t,"max-h-[55vh]",n[6].height!=="auto"),y(t,"xl:min-h-[450px]",n[6].height!=="auto"),P(t,z,83,3,2418)},m:function(i,c){B(i,t,c),C(e,t,null),q(t,s),q(t,r),q(t,f),q(t,o);for(let b=0;b<h.length;b+=1)h[b].m(o,null);n[21](o),d=!0,g||(u=[S(r,"click",n[18],!1,!1,!1),S(t,"keydown",n[15],!1,!1,!1)],g=!0)},p:function(i,c){if((!d||c&160&&!Q(r.src,a=i[5][i[7]]))&&p(r,"src",a),c&1184){w=i[5],N(w);let b;for(b=0;b<w.length;b+=1){const k=le(i,w,b);h[b]?h[b].p(k,c):(h[b]=J(k),h[b].c(),h[b].m(o,null))}for(;b<h.length;b+=1)h[b].d(1);h.length=w.length}c&64&&y(t,"min-h-[350px]",i[6].height!=="auto"),c&64&&y(t,"max-h-[55vh]",i[6].height!=="auto"),c&64&&y(t,"xl:min-h-[450px]",i[6].height!=="auto")},i:function(i){d||(v(e.$$.fragment,i),d=!0)},o:function(i){E(e.$$.fragment,i),d=!1},d:function(i){i&&A(t),D(e),ie(h,i),n[21](null),g=!1,Qe(u)}};return O("SvelteRegisterBlock",{block:m,id:F.name,type:"if",source:"(83:2) {#if selected_image !== null}",ctx:n}),m}function J(n){let t,e,s,r,a,f=n[28],o,d;const g=()=>n[19](t,f),u=()=>n[19](null,f);function w(){return n[20](n[28])}const h={c:function(){t=G("button"),e=G("img"),r=U(),p(e,"alt",""),p(e,"class","h-full w-full overflow-hidden object-contain s-QzgPMAMVqUOn"),Q(e.src,s=n[26])||p(e,"src",s),P(e,z,112,7,3463),p(t,"class",a="gallery-item !flex-none !h-9 !w-9 transition-all duration-75 "+(n[7]===n[28]?"!ring-2 !ring-orange-500 hover:!ring-orange-500":"scale-90 transform")+" s-QzgPMAMVqUOn"),P(t,z,104,6,3173)},m:function(_,i){B(_,t,i),q(t,e),q(t,r),g(),o||(d=S(t,"click",w,!1,!1,!1),o=!0)},p:function(_,i){n=_,i&32&&!Q(e.src,s=n[26])&&p(e,"src",s),i&128&&a!==(a="gallery-item !flex-none !h-9 !w-9 transition-all duration-75 "+(n[7]===n[28]?"!ring-2 !ring-orange-500 hover:!ring-orange-500":"scale-90 transform")+" s-QzgPMAMVqUOn")&&p(t,"class",a),f!==n[28]&&(u(),f=n[28],g())},d:function(_){_&&A(t),u(),o=!1,d()}};return O("SvelteRegisterBlock",{block:h,id:J.name,type:"each",source:"(104:5) {#each value as image, i}",ctx:n}),h}function K(n){let t;const e={c:function(){t=G("p"),t.textContent="Empty",p(t,"class","s-QzgPMAMVqUOn"),P(t,z,143,5,4219)},m:function(r,a){B(r,t,a)},p:re,d:function(r){r&&A(t)}};return O("SvelteRegisterBlock",{block:e,id:K.name,type:"else",source:"(143:4) {:else}",ctx:n}),e}function W(n){let t,e,s,r,a,f;function o(){return n[22](n[28])}const d={c:function(){t=G("button"),e=G("img"),r=U(),p(e,"alt",""),p(e,"class","h-full w-full overflow-hidden object-contain s-QzgPMAMVqUOn"),Q(e.src,s=n[26])||p(e,"src",s),P(e,z,136,6,4080),p(t,"class","gallery-item s-QzgPMAMVqUOn"),P(t,z,132,5,3960)},m:function(u,w){B(u,t,w),q(t,e),q(t,r),a||(f=S(t,"click",o,!1,!1,!1),a=!0)},p:function(u,w){n=u,w&32&&!Q(e.src,s=n[26])&&p(e,"src",s)},d:function(u){u&&A(t),a=!1,f()}};return O("SvelteRegisterBlock",{block:d,id:W.name,type:"each",source:"(132:4) {#each value as image, i}",ctx:n}),d}function me(n){let t,e,s,r,a,f,o;const d=[n[0]];let g={};for(let i=0;i<d.length;i+=1)g=Ae(g,d[i]);t=new se({props:g,$$inline:!0});let u=n[1]&&T(n);const w=[he,fe],h=[];function m(i,c){return i[5]===null?0:1}r=m(n),a=h[r]=w[r](n);const _={c:function(){j(t.$$.fragment),e=U(),u&&u.c(),s=U(),a.c(),f=Oe()},m:function(c,b){C(t,c,b),B(c,e,b),u&&u.m(c,b),B(c,s,b),h[r].m(c,b),B(c,f,b),o=!0},p:function(c,b){const k=b&1?Ue(d,[Ve(c[0])]):{};t.$set(k),c[1]?u?(u.p(c,b),b&2&&v(u,1)):(u=T(c),u.c(),v(u,1),u.m(s.parentNode,s)):u&&(H(),E(u,1,1,()=>{u=null}),L());let M=r;r=m(c),r===M?h[r].p(c,b):(H(),E(h[M],1,1,()=>{h[M]=null}),L(),a=h[r],a?a.p(c,b):(a=h[r]=w[r](c),a.c()),v(a,1),a.m(f.parentNode,f))},i:function(c){o||(v(t.$$.fragment,c),v(u),v(a),o=!0)},o:function(c){E(t.$$.fragment,c),E(u),E(a),o=!1},d:function(c){D(t,c),c&&A(e),u&&u.d(c),c&&A(s),h[r].d(c),c&&A(f)}};return O("SvelteRegisterBlock",{block:_,id:me.name,type:"slot",source:'(61:0) <Block  variant=\\"solid\\"  color=\\"grey\\"  padding={false}  {elem_id}  disable={typeof style.container === \\"boolean\\" && !style.container}  {visible} >',ctx:n}),_}function X(n){let t,e,s,r;oe(n[16]),t=new ae({props:{variant:"solid",color:"grey",padding:!1,elem_id:n[3],disable:typeof n[6].container=="boolean"&&!n[6].container,visible:n[4],$$slots:{default:[me]},$$scope:{ctx:n}},$$inline:!0});const a={c:function(){j(t.$$.fragment)},l:function(o){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(o,d){C(t,o,d),e=!0,s||(r=S(window,"resize",n[16]),s=!0)},p:function(o,[d]){const g={};d&8&&(g.elem_id=o[3]),d&64&&(g.disable=typeof o[6].container=="boolean"&&!o[6].container),d&16&&(g.visible=o[4]),d&1073774055&&(g.$$scope={dirty:d,ctx:o}),t.$set(g)},i:function(o){e||(v(t.$$.fragment,o),e=!0)},o:function(o){E(t.$$.fragment,o),e=!1},d:function(o){D(t,o),s=!1,r()}};return O("SvelteRegisterBlock",{block:a,id:X.name,type:"component",source:"",ctx:n}),a}function Se(n,t,e){let s,r,a,f,{$$slots:o={},$$scope:d}=t;Be("Gallery",o,[]);let{loading_status:g}=t,{show_label:u}=t,{label:w}=t,{elem_id:h=""}=t,{visible:m=!0}=t,{value:_=null}=t,{style:i={}}=t,c=null;function b(l){switch(l.code){case"Escape":l.preventDefault(),e(7,c=null);break;case"ArrowLeft":l.preventDefault(),e(7,c=s);break;case"ArrowRight":l.preventDefault(),e(7,c=r);break}}let k=[],M;async function Z(l){if(typeof l!="number")return;await $(),k[l].focus();const{left:I,width:Me}=M.getBoundingClientRect(),{left:Ge,width:Pe}=k[l].getBoundingClientRect(),x=Ge-I+Pe/2-Me/2+M.scrollLeft;M.scrollTo({left:x<0?0:x,behavior:"smooth"})}let V=0,R=0;const _e=["loading_status","show_label","label","elem_id","visible","value","style"];Object.keys(t).forEach(l=>{!~_e.indexOf(l)&&l.slice(0,2)!=="$$"&&l!=="slot"&&console.warn(`<Gallery> was created with unknown prop '${l}'`)});function ge(){e(9,R=window.innerHeight)}const de=()=>e(7,c=null),be=()=>e(7,c=r);function we(l,I){ee[l?"unshift":"push"](()=>{k[I]=l,e(10,k)})}const pe=l=>e(7,c=l);function ye(l){ee[l?"unshift":"push"](()=>{M=l,e(11,M)})}const ve=l=>e(7,c=a?l:c);function ke(){V=this.clientHeight,e(8,V)}return n.$$set=l=>{"loading_status"in l&&e(0,g=l.loading_status),"show_label"in l&&e(1,u=l.show_label),"label"in l&&e(2,w=l.label),"elem_id"in l&&e(3,h=l.elem_id),"visible"in l&&e(4,m=l.visible),"value"in l&&e(5,_=l.value),"style"in l&&e(6,i=l.style)},n.$capture_state=()=>({Block:ae,BlockLabel:ce,ModifyUpload:ue,tick:$,StatusTracker:se,get_styles:te,Image:Y,loading_status:g,show_label:u,label:w,elem_id:h,visible:m,value:_,style:i,selected_image:c,on_keydown:b,el:k,container:M,scroll_to_img:Z,height:V,window_height:R,classes:f,can_zoom:a,next:r,previous:s}),n.$inject_state=l=>{"loading_status"in l&&e(0,g=l.loading_status),"show_label"in l&&e(1,u=l.show_label),"label"in l&&e(2,w=l.label),"elem_id"in l&&e(3,h=l.elem_id),"visible"in l&&e(4,m=l.visible),"value"in l&&e(5,_=l.value),"style"in l&&e(6,i=l.style),"selected_image"in l&&e(7,c=l.selected_image),"el"in l&&e(10,k=l.el),"container"in l&&e(11,M=l.container),"height"in l&&e(8,V=l.height),"window_height"in l&&e(9,R=l.window_height),"classes"in l&&e(12,f=l.classes),"can_zoom"in l&&e(13,a=l.can_zoom),"next"in l&&e(14,r=l.next),"previous"in l&&(s=l.previous)},t&&"$$inject"in t&&n.$inject_state(t.$$inject),n.$$.update=()=>{n.$$.dirty&160&&(s=((c??0)+(_?.length??0)-1)%(_?.length??0)),n.$$.dirty&160&&e(14,r=((c??0)+1)%(_?.length??0)),n.$$.dirty&128&&Z(c),n.$$.dirty&768&&e(13,a=R>=V),n.$$.dirty&64&&e(12,{classes:f}=te(i,["grid"]),f)},[g,u,w,h,m,_,i,c,V,R,k,M,f,a,r,b,ge,de,be,we,pe,ye,ve,ke]}class je extends ze{constructor(t){super(t),Ee(this,t,Se,X,qe,{loading_status:0,show_label:1,label:2,elem_id:3,visible:4,value:5,style:6}),O("SvelteRegisterComponent",{component:this,tagName:"Gallery",options:t,id:X.name});const{ctx:e}=this.$$,s=t.props||{};e[0]===void 0&&!("loading_status"in s)&&console.warn("<Gallery> was created without expected prop 'loading_status'"),e[1]===void 0&&!("show_label"in s)&&console.warn("<Gallery> was created without expected prop 'show_label'"),e[2]===void 0&&!("label"in s)&&console.warn("<Gallery> was created without expected prop 'label'")}get loading_status(){throw new Error("<Gallery>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set loading_status(t){throw new Error("<Gallery>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get show_label(){throw new Error("<Gallery>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set show_label(t){throw new Error("<Gallery>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get label(){throw new Error("<Gallery>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set label(t){throw new Error("<Gallery>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get elem_id(){throw new Error("<Gallery>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set elem_id(t){throw new Error("<Gallery>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get visible(){throw new Error("<Gallery>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set visible(t){throw new Error("<Gallery>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get value(){throw new Error("<Gallery>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set value(t){throw new Error("<Gallery>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get style(){throw new Error("<Gallery>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set style(t){throw new Error("<Gallery>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}var Fe=je;const Je=["static"];export{Fe as Component,Je as modes};
